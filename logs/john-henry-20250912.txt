2025-09-12 00:06:03.286 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 00:06:04.789 +07:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 00:06:04.796 +07:00 [INF] Database ensured created successfully
2025-09-12 00:06:05.235 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 00:06:05.303 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 00:06:05.305 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 00:06:05.306 +07:00 [INF] Roles seeded successfully
2025-09-12 00:06:05.326 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 00:06:05.431 +07:00 [INF] Admin user seeded successfully
2025-09-12 00:06:05.435 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 00:06:05.745 +07:00 [INF] Now listening on: http://localhost:5101
2025-09-12 00:06:05.747 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-12 00:06:05.747 +07:00 [INF] Hosting environment: Development
2025-09-12 00:06:05.748 +07:00 [INF] Content root path: /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website
2025-09-12 00:06:12.648 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/ - null null
2025-09-12 00:06:12.704 +07:00 [INF] No cached response available for this request.
2025-09-12 00:06:12.707 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-12 00:06:12.999 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 00:06:13.012 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 00:06:13.100 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 00:06:13.440 +07:00 [INF] Executed ViewResult - view Index executed in 341.6985ms.
2025-09-12 00:06:13.447 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 417.5225ms
2025-09-12 00:06:13.448 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 00:06:13.448 +07:00 [INF] The response has been cached.
2025-09-12 00:06:13.454 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/ - 200 null text/html; charset=utf-8 812.0278ms
2025-09-12 00:06:14.576 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - null null
2025-09-12 00:06:14.576 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - null null
2025-09-12 00:06:14.579 +07:00 [INF] No cached response available for this request.
2025-09-12 00:06:14.579 +07:00 [INF] No cached response available for this request.
2025-09-12 00:06:14.594 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 00:06:14.594 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 00:06:14.605 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 00:06:14.605 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 00:06:14.605 +07:00 [INF] The response could not be cached for this request.
2025-09-12 00:06:14.605 +07:00 [INF] The response could not be cached for this request.
2025-09-12 00:06:14.606 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - 401 0 null 30.0609ms
2025-09-12 00:06:14.606 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - 401 0 null 30.0607ms
2025-09-12 00:06:17.995 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/?id=ba9948bc-c5be-46de-8b4d-5c047ebaf403&vscodeBrowserReqId=1757610377978 - null null
2025-09-12 00:06:18.000 +07:00 [INF] No cached response available for this request.
2025-09-12 00:06:18.004 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 00:06:18.005 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 00:06:18.006 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 00:06:18.022 +07:00 [INF] Executed ViewResult - view Index executed in 16.5597ms.
2025-09-12 00:06:18.022 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 17.6542ms
2025-09-12 00:06:18.023 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 00:06:18.023 +07:00 [INF] The response has been cached.
2025-09-12 00:06:18.024 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/?id=ba9948bc-c5be-46de-8b4d-5c047ebaf403&vscodeBrowserReqId=1757610377978 - 200 null text/html; charset=utf-8 28.6417ms
2025-09-12 00:13:49.097 +07:00 [INF] Application is shutting down...
2025-09-12 11:32:41.085 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 11:32:42.771 +07:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 11:32:42.779 +07:00 [INF] Database ensured created successfully
2025-09-12 11:32:43.239 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 11:32:43.313 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 11:32:43.315 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 11:32:43.316 +07:00 [INF] Roles seeded successfully
2025-09-12 11:32:43.334 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 11:32:43.445 +07:00 [INF] Admin user seeded successfully
2025-09-12 11:32:43.449 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 11:32:43.859 +07:00 [INF] Now listening on: http://localhost:5101
2025-09-12 11:32:43.861 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-12 11:32:43.861 +07:00 [INF] Hosting environment: Development
2025-09-12 11:32:43.861 +07:00 [INF] Content root path: /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website
2025-09-12 11:32:49.042 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/ - null null
2025-09-12 11:32:49.090 +07:00 [INF] No cached response available for this request.
2025-09-12 11:32:49.094 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-12 11:32:49.348 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 11:32:49.361 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 11:32:49.382 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 11:32:49.710 +07:00 [INF] Executed ViewResult - view Index executed in 325.1835ms.
2025-09-12 11:32:49.730 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 367.2354ms
2025-09-12 11:32:49.730 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 11:32:49.731 +07:00 [INF] The response has been cached.
2025-09-12 11:32:49.735 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/ - 200 null text/html; charset=utf-8 696.8744ms
2025-09-12 11:32:50.544 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - null null
2025-09-12 11:32:50.544 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - null null
2025-09-12 11:32:50.548 +07:00 [INF] No cached response available for this request.
2025-09-12 11:32:50.548 +07:00 [INF] No cached response available for this request.
2025-09-12 11:32:50.584 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 11:32:50.584 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 11:32:50.596 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 11:32:50.596 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 11:32:50.597 +07:00 [INF] The response could not be cached for this request.
2025-09-12 11:32:50.598 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - 401 0 null 53.515ms
2025-09-12 11:32:50.600 +07:00 [INF] The response could not be cached for this request.
2025-09-12 11:32:50.608 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - 401 0 null 63.9377ms
2025-09-12 11:34:59.991 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Blog - null null
2025-09-12 11:34:59.993 +07:00 [INF] No cached response available for this request.
2025-09-12 11:35:00.007 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb)'
2025-09-12 11:35:00.029 +07:00 [INF] Route matched with {action = "Index", controller = "Blog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32, System.String, System.String) on controller JohnHenryFashionWeb.Controllers.BlogController (JohnHenryFashionWeb).
2025-09-12 11:35:00.146 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "BlogPosts" AS b
WHERE b."Status" = 'published'
2025-09-12 11:35:00.296 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b1."Id", b1."AuthorId", b1."CategoryId", b1."Content", b1."CreatedAt", b1."Excerpt", b1."FeaturedImageUrl", b1."IsFeatured", b1."MetaDescription", b1."MetaTitle", b1."PublishedAt", b1."Slug", b1."Status", b1."Tags", b1."Title", b1."UpdatedAt", b1."ViewCount", b0."Id", b0."CreatedAt", b0."Description", b0."IsActive", b0."Name", b0."Slug", b0."SortOrder", b0."UpdatedAt", a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    WHERE b."Status" = 'published'
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS b1
LEFT JOIN "BlogCategories" AS b0 ON b1."CategoryId" = b0."Id"
INNER JOIN "AspNetUsers" AS a ON b1."AuthorId" = a."Id"
ORDER BY b1.c DESC
2025-09-12 11:35:00.355 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."Description", b."IsActive", b."Name", b."Slug", b."SortOrder", b."UpdatedAt"
FROM "BlogCategories" AS b
WHERE b."IsActive"
ORDER BY b."SortOrder"
2025-09-12 11:35:00.408 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b1."Id", b1."AuthorId", b1."CategoryId", b1."Content", b1."CreatedAt", b1."Excerpt", b1."FeaturedImageUrl", b1."IsFeatured", b1."MetaDescription", b1."MetaTitle", b1."PublishedAt", b1."Slug", b1."Status", b1."Tags", b1."Title", b1."UpdatedAt", b1."ViewCount", b0."Id", b0."CreatedAt", b0."Description", b0."IsActive", b0."Name", b0."Slug", b0."SortOrder", b0."UpdatedAt"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    WHERE b."Status" = 'published' AND b."IsFeatured"
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_0
) AS b1
LEFT JOIN "BlogCategories" AS b0 ON b1."CategoryId" = b0."Id"
ORDER BY b1.c DESC
2025-09-12 11:35:00.418 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 11:35:00.550 +07:00 [INF] Executed ViewResult - view Index executed in 134.8216ms.
2025-09-12 11:35:00.552 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb) in 523.0672ms
2025-09-12 11:35:00.554 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb)'
2025-09-12 11:35:00.563 +07:00 [INF] The response has been cached.
2025-09-12 11:35:00.579 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Blog - 200 null text/html; charset=utf-8 587.9074ms
2025-09-12 11:35:12.139 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products - null null
2025-09-12 11:35:12.140 +07:00 [INF] No cached response available for this request.
2025-09-12 11:35:12.140 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.ProductsController.Index (JohnHenryFashionWeb)'
2025-09-12 11:35:12.145 +07:00 [INF] Route matched with {action = "Index", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller JohnHenryFashionWeb.Controllers.ProductsController (JohnHenryFashionWeb).
2025-09-12 11:35:12.275 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."BrandId", p."CategoryId", p."Color", p."CreatedAt", p."Description", p."Dimensions", p."FeaturedImageUrl", p."GalleryImages", p."InStock", p."IsActive", p."IsFeatured", p."ManageStock", p."Material", p."Name", p."Price", p."Rating", p."ReviewCount", p."SKU", p."SalePrice", p."ShortDescription", p."Size", p."Slug", p."Status", p."StockQuantity", p."UpdatedAt", p."ViewCount", p."Weight", c."Id", c."CreatedAt", c."Description", c."ImageUrl", c."IsActive", c."Name", c."ParentId", c."Slug", c."SortOrder", c."UpdatedAt"
FROM "Products" AS p
INNER JOIN "Categories" AS c ON p."CategoryId" = c."Id"
WHERE p."IsActive"
ORDER BY p."Name"
2025-09-12 11:35:12.278 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 11:35:12.296 +07:00 [INF] Executed ViewResult - view Index executed in 19.0946ms.
2025-09-12 11:35:12.296 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.ProductsController.Index (JohnHenryFashionWeb) in 151.07ms
2025-09-12 11:35:12.296 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.ProductsController.Index (JohnHenryFashionWeb)'
2025-09-12 11:35:12.297 +07:00 [INF] The response has been cached.
2025-09-12 11:35:12.298 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products - 200 null text/html; charset=utf-8 158.7433ms
2025-09-12 11:35:18.331 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - null null
2025-09-12 11:35:18.332 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - null null
2025-09-12 11:35:18.332 +07:00 [INF] No cached response available for this request.
2025-09-12 11:35:18.332 +07:00 [INF] No cached response available for this request.
2025-09-12 11:35:18.338 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 11:35:18.338 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 11:35:18.339 +07:00 [INF] The response could not be cached for this request.
2025-09-12 11:35:18.339 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - 401 0 null 7.2593ms
2025-09-12 11:35:18.339 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 11:35:18.340 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 11:35:18.340 +07:00 [INF] The response could not be cached for this request.
2025-09-12 11:35:18.340 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - 401 0 null 8.9153ms
2025-09-12 11:36:02.917 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Blog/Category?slug=xu-huong-thoi-trang - null null
2025-09-12 11:36:02.918 +07:00 [INF] No cached response available for this request.
2025-09-12 11:36:02.918 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Category (JohnHenryFashionWeb)'
2025-09-12 11:36:02.923 +07:00 [INF] Route matched with {action = "Category", controller = "Blog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Category(System.String, Int32) on controller JohnHenryFashionWeb.Controllers.BlogController (JohnHenryFashionWeb).
2025-09-12 11:36:02.945 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__slug_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."Description", b."IsActive", b."Name", b."Slug", b."SortOrder", b."UpdatedAt"
FROM "BlogCategories" AS b
WHERE b."Slug" = @__slug_0 AND b."IsActive"
LIMIT 1
2025-09-12 11:36:02.962 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "BlogPosts" AS b
LEFT JOIN "BlogCategories" AS b0 ON b."CategoryId" = b0."Id"
WHERE b."Status" = 'published' AND b0."Id" IS NOT NULL AND b0."Slug" = @__category_0
2025-09-12 11:36:02.986 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AuthorId", s."CategoryId", s."Content", s."CreatedAt", s."Excerpt", s."FeaturedImageUrl", s."IsFeatured", s."MetaDescription", s."MetaTitle", s."PublishedAt", s."Slug", s."Status", s."Tags", s."Title", s."UpdatedAt", s."ViewCount", s."Id0", s."CreatedAt0", s."Description", s."IsActive", s."Name", s."Slug0", s."SortOrder", s."UpdatedAt0", a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", b0."Id" AS "Id0", b0."CreatedAt" AS "CreatedAt0", b0."Description", b0."IsActive", b0."Name", b0."Slug" AS "Slug0", b0."SortOrder", b0."UpdatedAt" AS "UpdatedAt0", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    LEFT JOIN "BlogCategories" AS b0 ON b."CategoryId" = b0."Id"
    WHERE b."Status" = 'published' AND b0."Id" IS NOT NULL AND b0."Slug" = @__category_0
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s."AuthorId" = a."Id"
ORDER BY s.c DESC
2025-09-12 11:36:02.990 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."Description", b."IsActive", b."Name", b."Slug", b."SortOrder", b."UpdatedAt"
FROM "BlogCategories" AS b
WHERE b."IsActive"
ORDER BY b."SortOrder"
2025-09-12 11:36:02.994 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b1."Id", b1."AuthorId", b1."CategoryId", b1."Content", b1."CreatedAt", b1."Excerpt", b1."FeaturedImageUrl", b1."IsFeatured", b1."MetaDescription", b1."MetaTitle", b1."PublishedAt", b1."Slug", b1."Status", b1."Tags", b1."Title", b1."UpdatedAt", b1."ViewCount", b0."Id", b0."CreatedAt", b0."Description", b0."IsActive", b0."Name", b0."Slug", b0."SortOrder", b0."UpdatedAt"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    WHERE b."Status" = 'published' AND b."IsFeatured"
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_0
) AS b1
LEFT JOIN "BlogCategories" AS b0 ON b1."CategoryId" = b0."Id"
ORDER BY b1.c DESC
2025-09-12 11:36:02.994 +07:00 [INF] Executing ViewResult, running view Category.
2025-09-12 11:36:02.998 +07:00 [ERR] The view 'Category' was not found. Searched locations: ["/Views/Blog/Category.cshtml","/Views/Shared/Category.cshtml"]
2025-09-12 11:36:03.005 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.BlogController.Category (JohnHenryFashionWeb) in 81.4295ms
2025-09-12 11:36:03.005 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Category (JohnHenryFashionWeb)'
2025-09-12 11:36:03.008 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Category' was not found. The following locations were searched:
/Views/Blog/Category.cshtml
/Views/Shared/Category.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at JohnHenryFashionWeb.Middleware.ImageOptimizationMiddleware.InvokeAsync(HttpContext context) in /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/Middleware/PerformanceMiddleware.cs:line 111
   at JohnHenryFashionWeb.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/Middleware/PerformanceMiddleware.cs:line 71
   at JohnHenryFashionWeb.Middleware.PerformanceMiddleware.InvokeAsync(HttpContext context) in /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/Middleware/PerformanceMiddleware.cs:line 39
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-12 11:36:03.062 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Blog/Category?slug=xu-huong-thoi-trang - 500 null text/html; charset=utf-8 144.5397ms
2025-09-12 11:36:13.136 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Blog? - null null
2025-09-12 11:36:13.141 +07:00 [INF] Serving response from cache.
2025-09-12 11:36:13.142 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Blog? - 200 null text/html; charset=utf-8 6.455ms
2025-09-12 11:36:23.384 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - null null
2025-09-12 11:36:23.384 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - null null
2025-09-12 11:36:23.384 +07:00 [INF] No cached response available for this request.
2025-09-12 11:36:23.384 +07:00 [INF] No cached response available for this request.
2025-09-12 11:36:23.385 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 11:36:23.385 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 11:36:23.385 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 11:36:23.385 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 11:36:23.385 +07:00 [INF] The response could not be cached for this request.
2025-09-12 11:36:23.385 +07:00 [INF] The response could not be cached for this request.
2025-09-12 11:36:23.385 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - 401 0 null 1.3494ms
2025-09-12 11:36:23.385 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - 401 0 null 1.6909ms
2025-09-12 11:37:06.373 +07:00 [INF] Application is shutting down...
2025-09-12 11:47:54.773 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-12 11:47:55.391 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-09-12 11:47:55.403 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-12 11:47:55.405 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-09-12 11:47:55.407 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-12 11:47:55.417 +07:00 [INF] Applying migration '20250911094300_AddShoppingCartItemProperties'.
2025-09-12 11:47:55.470 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ShoppingCartItems" ADD "Color" text;
2025-09-12 11:47:55.476 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ShoppingCartItems" ADD "Price" numeric NOT NULL DEFAULT 0.0;
2025-09-12 11:47:55.477 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ShoppingCartItems" ADD "Size" text;
2025-09-12 11:47:55.478 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250911094300_AddShoppingCartItemProperties', '9.0.1');
2025-09-12 11:47:55.479 +07:00 [INF] Applying migration '20250912044517_AddContactMessage'.
2025-09-12 11:47:55.557 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ContactMessages" (
    "Id" uuid NOT NULL,
    "Name" character varying(100) NOT NULL,
    "Email" character varying(255) NOT NULL,
    "Phone" character varying(20),
    "Subject" character varying(255) NOT NULL,
    "Message" character varying(5000) NOT NULL,
    "IsRead" boolean NOT NULL,
    "IsReplied" boolean NOT NULL,
    "AdminNotes" character varying(2000),
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "RepliedAt" timestamp with time zone,
    "RepliedBy" character varying(255),
    "UserId" text,
    CONSTRAINT "PK_ContactMessages" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ContactMessages_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE SET NULL
);
2025-09-12 11:47:55.561 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ContactMessages_CreatedAt" ON "ContactMessages" ("CreatedAt");
2025-09-12 11:47:55.566 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ContactMessages_Email" ON "ContactMessages" ("Email");
2025-09-12 11:47:55.570 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ContactMessages_IsRead" ON "ContactMessages" ("IsRead");
2025-09-12 11:47:55.574 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ContactMessages_UserId" ON "ContactMessages" ("UserId");
2025-09-12 11:47:55.575 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250912044517_AddContactMessage', '9.0.1');
2025-09-12 12:09:53.848 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 12:09:55.413 +07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 12:09:55.422 +07:00 [INF] Database ensured created successfully
2025-09-12 12:09:55.895 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 12:09:55.970 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 12:09:55.972 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 12:09:55.973 +07:00 [INF] Roles seeded successfully
2025-09-12 12:09:55.990 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 12:09:56.107 +07:00 [INF] Admin user seeded successfully
2025-09-12 12:09:56.111 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 12:09:56.527 +07:00 [INF] Now listening on: http://localhost:5101
2025-09-12 12:09:56.529 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-12 12:09:56.530 +07:00 [INF] Hosting environment: Development
2025-09-12 12:09:56.530 +07:00 [INF] Content root path: /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website
2025-09-12 12:09:59.104 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/ - null null
2025-09-12 12:09:59.174 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.186 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-12 12:09:59.370 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 12:09:59.386 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 12:09:59.408 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 12:09:59.754 +07:00 [INF] Executed ViewResult - view Index executed in 348.3696ms.
2025-09-12 12:09:59.762 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 375.2195ms
2025-09-12 12:09:59.763 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 12:09:59.763 +07:00 [INF] The response has been cached.
2025-09-12 12:09:59.767 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/ - 200 null text/html; charset=utf-8 670.5982ms
2025-09-12 12:09:59.805 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/css/site.css - null null
2025-09-12 12:09:59.807 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/client-suit-boutique-with-shopping-bags.jpg - null null
2025-09-12 12:09:59.808 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/css/site.css?v=PpTBA7ZuEsedMQOnePmB3XlJNuEG9ZzZcmwEPA331mI - null null
2025-09-12 12:09:59.809 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/logo.png - null null
2025-09-12 12:09:59.809 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/JohnHenryFashionWeb.styles.css?v=TB_zEeDHLOdIjBBLHSu0dVMCkR8ya7t0nyn-bkqifkU - null null
2025-09-12 12:09:59.810 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/lib/bootstrap/dist/css/bootstrap.min.css - null null
2025-09-12 12:09:59.810 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.810 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.811 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.811 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.811 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.811 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.820 +07:00 [INF] The file /images/logo.png was not modified
2025-09-12 12:09:59.820 +07:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified
2025-09-12 12:09:59.821 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:09:59.821 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:09:59.820 +07:00 [INF] The file /css/site.css was not modified
2025-09-12 12:09:59.821 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:09:59.822 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/logo.png - 304 null image/png 12.5492ms
2025-09-12 12:09:59.822 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/lib/bootstrap/dist/css/bootstrap.min.css - 304 null text/css 11.8739ms
2025-09-12 12:09:59.822 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/css/site.css?v=PpTBA7ZuEsedMQOnePmB3XlJNuEG9ZzZcmwEPA331mI - 304 null text/css 13.4512ms
2025-09-12 12:09:59.851 +07:00 [INF] Sending file. Request path: '/JohnHenryFashionWeb.styles.css'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/obj/Debug/net9.0/scopedcss/bundle/JohnHenryFashionWeb.styles.css'
2025-09-12 12:09:59.851 +07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/css/site.css'
2025-09-12 12:09:59.852 +07:00 [INF] The response has been cached.
2025-09-12 12:09:59.852 +07:00 [INF] The response has been cached.
2025-09-12 12:09:59.856 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/css/site.css - 200 null text/css 51.5217ms
2025-09-12 12:09:59.856 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/JohnHenryFashionWeb.styles.css?v=TB_zEeDHLOdIjBBLHSu0dVMCkR8ya7t0nyn-bkqifkU - 200 null text/css 46.9583ms
2025-09-12 12:09:59.915 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Banner/banner-women-main.jpg - null null
2025-09-12 12:09:59.916 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.917 +07:00 [INF] The file /images/Banner/banner-women-main.jpg was not modified
2025-09-12 12:09:59.918 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:09:59.919 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Banner/banner-man-main.jpg - null null
2025-09-12 12:09:59.919 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Banner/banner-women-main.jpg - 304 null image/jpeg 4.1362ms
2025-09-12 12:09:59.920 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.920 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/lib/jquery/dist/jquery.min.js - null null
2025-09-12 12:09:59.920 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Banner/banner-man-0.jpg - null null
2025-09-12 12:09:59.920 +07:00 [INF] The file /images/Banner/banner-man-main.jpg was not modified
2025-09-12 12:09:59.921 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.921 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2025-09-12 12:09:59.921 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:09:59.921 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.923 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Banner/banner-man-main.jpg - 304 null image/jpeg 4.8802ms
2025-09-12 12:09:59.922 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.922 +07:00 [INF] The file /lib/jquery/dist/jquery.min.js was not modified
2025-09-12 12:09:59.924 +07:00 [INF] The file /images/Banner/banner-man-0.jpg was not modified
2025-09-12 12:09:59.925 +07:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js was not modified
2025-09-12 12:09:59.925 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:09:59.926 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:09:59.926 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/lib/jquery/dist/jquery.min.js - 304 null text/javascript 5.6729ms
2025-09-12 12:09:59.925 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:09:59.926 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 304 null text/javascript 4.8549ms
2025-09-12 12:09:59.927 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Banner/banner-man-0.jpg - 304 null image/jpeg 6.6693ms
2025-09-12 12:09:59.959 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Banner/banner-man-bestseller.jpg - null null
2025-09-12 12:09:59.959 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/js/site.js?v=uy4654FyuPSghFufkUbAcYbg3k_vISHwdwNAfp8X_2Q - null null
2025-09-12 12:09:59.959 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Banner/banner-women-1.jpg - null null
2025-09-12 12:09:59.962 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.962 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.963 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.968 +07:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/js/site.js'
2025-09-12 12:09:59.969 +07:00 [INF] The response has been cached.
2025-09-12 12:09:59.969 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Hoodie Nam Tay Dài TS25FH22C-LS.jpg - null null
2025-09-12 12:09:59.969 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Polo Nam Tay Ngắn TS25FP25C-SS.jpg - null null
2025-09-12 12:09:59.970 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/js/site.js?v=uy4654FyuPSghFufkUbAcYbg3k_vISHwdwNAfp8X_2Q - 200 null text/javascript 11.4469ms
2025-09-12 12:09:59.975 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.970 +07:00 [INF] No cached response available for this request.
2025-09-12 12:09:59.981 +07:00 [INF] Sending file. Request path: '/images/Banner/banner-man-bestseller.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Banner/banner-man-bestseller.jpg'
2025-09-12 12:09:59.982 +07:00 [INF] Sending file. Request path: '/images/Banner/banner-women-1.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Banner/banner-women-1.jpg'
2025-09-12 12:09:59.982 +07:00 [INF] The response has been cached.
2025-09-12 12:09:59.982 +07:00 [INF] The response has been cached.
2025-09-12 12:09:59.983 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Banner/banner-women-1.jpg - 200 672604 image/jpeg 23.7655ms
2025-09-12 12:09:59.983 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Banner/banner-man-bestseller.jpg - 200 661793 image/jpeg 23.8609ms
2025-09-12 12:09:59.991 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Khoác Nam Cá Tính JK25FH04C-PA.jpg - null null
2025-09-12 12:09:59.995 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.004 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:00.004 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Polo Nam Tay Ngắn TS25FP25C-SS.jpg - 404 0 null 34.6992ms
2025-09-12 12:10:00.023 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Khoác Nam Cá Tính JK25FH09P-KA.jpg - null null
2025-09-12 12:10:00.024 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Len Nam Tay Dài Form Vừa SW25FH04M-LB.jpg - null null
2025-09-12 12:10:00.025 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.025 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.026 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/images/%C3%81o%20nam/%C3%81o%20Polo%20Nam%20Tay%20Ng%E1%BA%AFn%20TS25FP25C-SS.jpg, Response status code: 404
2025-09-12 12:10:00.028 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Khoác Nam Thời Trang JK25FH02P-CT.jpg - null null
2025-09-12 12:10:00.045 +07:00 [INF] The file /images/Áo nam/Áo Khoác Nam Cá Tính JK25FH04C-PA.jpg was not modified
2025-09-12 12:10:00.045 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:00.045 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Khoác Nam Cá Tính JK25FH04C-PA.jpg - 304 null image/jpeg 54.3412ms
2025-09-12 12:10:00.051 +07:00 [INF] The file /images/Áo nam/Áo Khoác Nam Cá Tính JK25FH09P-KA.jpg was not modified
2025-09-12 12:10:00.058 +07:00 [INF] The file /images/Áo nam/Áo Len Nam Tay Dài Form Vừa SW25FH04M-LB.jpg was not modified
2025-09-12 12:10:00.051 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.059 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:00.053 +07:00 [INF] The file /images/Áo nam/Áo Hoodie Nam Tay Dài TS25FH22C-LS.jpg was not modified
2025-09-12 12:10:00.059 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:00.059 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Khoác Nam Cá Tính JK25FH09P-KA.jpg - 304 null image/jpeg 54.8007ms
2025-09-12 12:10:00.060 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Quần nam/Quần Jeans Nam Form Ôm JN25FH39C-SL.jpg - null null
2025-09-12 12:10:00.059 +07:00 [INF] The file /images/Áo nam/Áo Khoác Nam Thời Trang JK25FH02P-CT.jpg was not modified
2025-09-12 12:10:00.061 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:00.060 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Len Nam Tay Dài Form Vừa SW25FH04M-LB.jpg - 304 null image/jpeg 35.5365ms
2025-09-12 12:10:00.059 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:00.072 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.107 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Hoodie Nam Tay Dài TS25FH22C-LS.jpg - 304 null image/jpeg 137.9906ms
2025-09-12 12:10:00.072 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Áo nam/Áo Khoác Nam Thời Trang JK25FH02P-CT.jpg - 304 null image/jpeg 43.1686ms
2025-09-12 12:10:00.120 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Quần nam/Quần Khaki Nam Form Vừa KP25FH18C-NMSC.jpg - null null
2025-09-12 12:10:00.121 +07:00 [INF] Sending file. Request path: '/images/Quần nam/Quần Jeans Nam Form Ôm JN25FH39C-SL.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Quần nam/Quần Jeans Nam Form Ôm JN25FH39C-SL.jpg'
2025-09-12 12:10:00.120 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Áo nữ/Áo Blouse Nữ Thời Trang FWBL25SS01C.jpg - null null
2025-09-12 12:10:00.120 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Áo nữ/Áo Polo Nữ Cổ Lưới FWKS25SS11G.jpg - null null
2025-09-12 12:10:00.123 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.123 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.123 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.123 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Áo nữ/Áo Sơ Mi Freelancer FWWS25SS04C.jpg - null null
2025-09-12 12:10:00.123 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.123 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Quần nam/Quần Jeans Nam Form Ôm JN25FH39C-SL.jpg - 200 73445 image/jpeg 63.4737ms
2025-09-12 12:10:00.124 +07:00 [INF] The file /images/Áo nữ/Áo Blouse Nữ Thời Trang FWBL25SS01C.jpg was not modified
2025-09-12 12:10:00.125 +07:00 [INF] The file /images/Áo nữ/Áo Polo Nữ Cổ Lưới FWKS25SS11G.jpg was not modified
2025-09-12 12:10:00.124 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.126 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:00.125 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:00.129 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Áo nữ/Áo Blouse Nữ Thời Trang FWBL25SS01C.jpg - 304 null image/jpeg 6.4509ms
2025-09-12 12:10:00.130 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Áo nữ/Áo Polo Nữ Cổ Lưới FWKS25SS11G.jpg - 304 null image/jpeg 6.1281ms
2025-09-12 12:10:00.151 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Đầm nữ/Đầm Cổ Vest Thanh Lịch FWDR24SS21C.jpg - null null
2025-09-12 12:10:00.152 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Đầm nữ/Đầm Nữ Thời Trang FWDR25SS08G.jpg - null null
2025-09-12 12:10:00.156 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Áo nữ/Áo Thun Freelancer – FWTS25SS05G.jpg - null null
2025-09-12 12:10:00.160 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.161 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.158 +07:00 [INF] Sending file. Request path: '/images/Áo nữ/Áo Sơ Mi Freelancer FWWS25SS04C.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Áo nữ/Áo Sơ Mi Freelancer FWWS25SS04C.jpg'
2025-09-12 12:10:00.158 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.160 +07:00 [INF] Sending file. Request path: '/images/Quần nam/Quần Khaki Nam Form Vừa KP25FH18C-NMSC.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Quần nam/Quần Khaki Nam Form Vừa KP25FH18C-NMSC.jpg'
2025-09-12 12:10:00.167 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.168 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.170 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Áo nữ/Áo Sơ Mi Freelancer FWWS25SS04C.jpg - 200 63901 image/jpeg 47.2873ms
2025-09-12 12:10:00.172 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Chân váy nữ/Chân Váy Freelancer – FWSK25SS04G.jpg - null null
2025-09-12 12:10:00.179 +07:00 [INF] Sending file. Request path: '/images/Đầm nữ/Đầm Cổ Vest Thanh Lịch FWDR24SS21C.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Đầm nữ/Đầm Cổ Vest Thanh Lịch FWDR24SS21C.jpg'
2025-09-12 12:10:00.170 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Quần nam/Quần Khaki Nam Form Vừa KP25FH18C-NMSC.jpg - 200 43196 image/jpeg 50.0747ms
2025-09-12 12:10:00.180 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.182 +07:00 [INF] Sending file. Request path: '/images/Áo nữ/Áo Thun Freelancer – FWTS25SS05G.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Áo nữ/Áo Thun Freelancer – FWTS25SS05G.jpg'
2025-09-12 12:10:00.182 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.183 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Áo nữ/Áo Thun Freelancer – FWTS25SS05G.jpg - 200 69303 image/jpeg 27.3485ms
2025-09-12 12:10:00.181 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.182 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Chân váy nữ/Chân Váy Freelancer – FWSK25SS02G.jpg - null null
2025-09-12 12:10:00.185 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Đầm nữ/Đầm Cổ Vest Thanh Lịch FWDR24SS21C.jpg - 200 44328 image/jpeg 34.5119ms
2025-09-12 12:10:00.181 +07:00 [INF] Sending file. Request path: '/images/Đầm nữ/Đầm Nữ Thời Trang FWDR25SS08G.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Đầm nữ/Đầm Nữ Thời Trang FWDR25SS08G.jpg'
2025-09-12 12:10:00.189 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.191 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Banner/banner-women-bestseller.jpg - null null
2025-09-12 12:10:00.192 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.192 +07:00 [INF] Sending file. Request path: '/images/Chân váy nữ/Chân Váy Freelancer – FWSK25SS04G.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Chân váy nữ/Chân Váy Freelancer – FWSK25SS04G.jpg'
2025-09-12 12:10:00.192 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.193 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.193 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Chân váy nữ/Chân Váy Freelancer – FWSK25SS04G.jpg - 200 40001 image/jpeg 21.3234ms
2025-09-12 12:10:00.193 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Đầm nữ/Đầm Nữ Thời Trang FWDR25SS08G.jpg - 200 38972 image/jpeg 40.5684ms
2025-09-12 12:10:00.206 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Đầm nữ/Đầm Nữ Thời Trang FWDR25SS016G.jpg - null null
2025-09-12 12:10:00.216 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Quần nam/Quần Jeans Nam Form Vừa JN25FH38C-RG.jpg - null null
2025-09-12 12:10:00.216 +07:00 [INF] Sending file. Request path: '/images/Chân váy nữ/Chân Váy Freelancer – FWSK25SS02G.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Chân váy nữ/Chân Váy Freelancer – FWSK25SS02G.jpg'
2025-09-12 12:10:00.216 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Đầm nữ/Đầm Dạ Hội Nữ Lụa FWDR25SS02.jpg - null null
2025-09-12 12:10:00.221 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.221 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.217 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.222 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Chân váy nữ/Chân Váy Freelancer – FWSK25SS02G.jpg - 200 40930 image/jpeg 40.0932ms
2025-09-12 12:10:00.222 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.230 +07:00 [INF] Sending file. Request path: '/images/Quần nam/Quần Jeans Nam Form Vừa JN25FH38C-RG.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Quần nam/Quần Jeans Nam Form Vừa JN25FH38C-RG.jpg'
2025-09-12 12:10:00.231 +07:00 [INF] Sending file. Request path: '/images/Đầm nữ/Đầm Nữ Thời Trang FWDR25SS016G.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Đầm nữ/Đầm Nữ Thời Trang FWDR25SS016G.jpg'
2025-09-12 12:10:00.231 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.232 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.232 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Quần nam/Quần Jeans Nam Form Vừa JN25FH38C-RG.jpg - 200 62929 image/jpeg 15.3777ms
2025-09-12 12:10:00.233 +07:00 [INF] Sending file. Request path: '/images/Banner/banner-women-bestseller.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Banner/banner-women-bestseller.jpg'
2025-09-12 12:10:00.233 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Đầm nữ/Đầm Nữ Thời Trang FWDR25SS016G.jpg - 200 32515 image/jpeg 27.0129ms
2025-09-12 12:10:00.235 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.236 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Banner/banner-women-bestseller.jpg - 200 396985 image/jpeg 44.6645ms
2025-09-12 12:10:00.253 +07:00 [INF] Sending file. Request path: '/images/client-suit-boutique-with-shopping-bags.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/client-suit-boutique-with-shopping-bags.jpg'
2025-09-12 12:10:00.253 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.254 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/client-suit-boutique-with-shopping-bags.jpg - 200 7941832 image/jpeg 446.5029ms
2025-09-12 12:10:00.262 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:00.263 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Đầm nữ/Đầm Dạ Hội Nữ Lụa FWDR25SS02.jpg - 404 0 null 46.8073ms
2025-09-12 12:10:00.263 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/images/%C4%90%E1%BA%A7m%20n%E1%BB%AF/%C4%90%E1%BA%A7m%20D%E1%BA%A1%20H%E1%BB%99i%20N%E1%BB%AF%20L%E1%BB%A5a%20FWDR25SS02.jpg, Response status code: 404
2025-09-12 12:10:00.331 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Chân váy nữ/Chân Váy Nữ Thanh Lịch FWSK24FH01C.jpg - null null
2025-09-12 12:10:00.332 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.337 +07:00 [INF] Sending file. Request path: '/images/Chân váy nữ/Chân Váy Nữ Thanh Lịch FWSK24FH01C.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Chân váy nữ/Chân Váy Nữ Thanh Lịch FWSK24FH01C.jpg'
2025-09-12 12:10:00.337 +07:00 [INF] The response has been cached.
2025-09-12 12:10:00.338 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Chân váy nữ/Chân Váy Nữ Thanh Lịch FWSK24FH01C.jpg - 200 34580 image/jpeg 7.1565ms
2025-09-12 12:10:00.863 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - null null
2025-09-12 12:10:00.864 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - null null
2025-09-12 12:10:00.865 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.865 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:00.892 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 12:10:00.892 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 12:10:00.904 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 12:10:00.904 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 12:10:00.904 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:00.905 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:00.905 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - 401 0 null 41.1633ms
2025-09-12 12:10:00.905 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - 401 0 null 41.4413ms
2025-09-12 12:10:01.065 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/manifest.json - null null
2025-09-12 12:10:01.065 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:01.068 +07:00 [INF] Sending file. Request path: '/manifest.json'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/manifest.json'
2025-09-12 12:10:01.068 +07:00 [INF] The response has been cached.
2025-09-12 12:10:01.069 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/manifest.json - 200 null application/json 4.481ms
2025-09-12 12:10:01.086 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/icon-192x192.png - null null
2025-09-12 12:10:01.087 +07:00 [INF] No cached response available for this request.
2025-09-12 12:10:01.088 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:10:01.089 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/icon-192x192.png - 404 0 null 2.933ms
2025-09-12 12:10:01.089 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/images/icon-192x192.png, Response status code: 404
2025-09-12 12:13:44.079 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/ - null null
2025-09-12 12:13:44.081 +07:00 [INF] No cached response available for this request.
2025-09-12 12:13:44.081 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 12:13:44.082 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 12:13:44.082 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 12:13:44.091 +07:00 [INF] Executed ViewResult - view Index executed in 8.6616ms.
2025-09-12 12:13:44.091 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 9.3561ms
2025-09-12 12:13:44.091 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 12:13:44.092 +07:00 [INF] The response has been cached.
2025-09-12 12:13:44.092 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/ - 200 null text/html; charset=utf-8 12.6213ms
2025-09-12 12:13:44.678 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - null null
2025-09-12 12:13:44.678 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - null null
2025-09-12 12:13:44.679 +07:00 [INF] No cached response available for this request.
2025-09-12 12:13:44.679 +07:00 [INF] No cached response available for this request.
2025-09-12 12:13:44.687 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 12:13:44.687 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 12:13:44.687 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 12:13:44.688 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 12:13:44.688 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:13:44.688 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:13:44.688 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - 401 0 null 10.4228ms
2025-09-12 12:13:44.688 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - 401 0 null 10.4095ms
2025-09-12 12:13:44.827 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/favicon.ico - null null
2025-09-12 12:13:44.828 +07:00 [INF] No cached response available for this request.
2025-09-12 12:13:44.828 +07:00 [INF] The file /favicon.ico was not modified
2025-09-12 12:13:44.828 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:13:44.829 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/favicon.ico - 304 null image/x-icon 1.5246ms
2025-09-12 12:14:01.477 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Blog?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757654041469 - null null
2025-09-12 12:14:01.477 +07:00 [INF] No cached response available for this request.
2025-09-12 12:14:01.478 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb)'
2025-09-12 12:14:01.501 +07:00 [INF] Route matched with {action = "Index", controller = "Blog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32, System.String, System.String) on controller JohnHenryFashionWeb.Controllers.BlogController (JohnHenryFashionWeb).
2025-09-12 12:14:01.634 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "BlogPosts" AS b
WHERE b."Status" = 'published'
2025-09-12 12:14:01.791 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b1."Id", b1."AuthorId", b1."CategoryId", b1."Content", b1."CreatedAt", b1."Excerpt", b1."FeaturedImageUrl", b1."IsFeatured", b1."MetaDescription", b1."MetaTitle", b1."PublishedAt", b1."Slug", b1."Status", b1."Tags", b1."Title", b1."UpdatedAt", b1."ViewCount", b0."Id", b0."CreatedAt", b0."Description", b0."IsActive", b0."Name", b0."Slug", b0."SortOrder", b0."UpdatedAt", a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    WHERE b."Status" = 'published'
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS b1
LEFT JOIN "BlogCategories" AS b0 ON b1."CategoryId" = b0."Id"
INNER JOIN "AspNetUsers" AS a ON b1."AuthorId" = a."Id"
ORDER BY b1.c DESC
2025-09-12 12:14:01.850 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."Description", b."IsActive", b."Name", b."Slug", b."SortOrder", b."UpdatedAt"
FROM "BlogCategories" AS b
WHERE b."IsActive"
ORDER BY b."SortOrder"
2025-09-12 12:14:01.903 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b1."Id", b1."AuthorId", b1."CategoryId", b1."Content", b1."CreatedAt", b1."Excerpt", b1."FeaturedImageUrl", b1."IsFeatured", b1."MetaDescription", b1."MetaTitle", b1."PublishedAt", b1."Slug", b1."Status", b1."Tags", b1."Title", b1."UpdatedAt", b1."ViewCount", b0."Id", b0."CreatedAt", b0."Description", b0."IsActive", b0."Name", b0."Slug", b0."SortOrder", b0."UpdatedAt"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    WHERE b."Status" = 'published' AND b."IsFeatured"
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_0
) AS b1
LEFT JOIN "BlogCategories" AS b0 ON b1."CategoryId" = b0."Id"
ORDER BY b1.c DESC
2025-09-12 12:14:01.912 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 12:14:01.998 +07:00 [INF] Executed ViewResult - view Index executed in 87.7509ms.
2025-09-12 12:14:01.999 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb) in 498.1573ms
2025-09-12 12:14:02.000 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb)'
2025-09-12 12:14:02.001 +07:00 [INF] The response has been cached.
2025-09-12 12:14:02.009 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Blog?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757654041469 - 200 null text/html; charset=utf-8 531.7977ms
2025-09-12 12:14:10.141 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Blog - null null
2025-09-12 12:14:10.141 +07:00 [INF] No cached response available for this request.
2025-09-12 12:14:10.142 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb)'
2025-09-12 12:14:10.142 +07:00 [INF] Route matched with {action = "Index", controller = "Blog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32, System.String, System.String) on controller JohnHenryFashionWeb.Controllers.BlogController (JohnHenryFashionWeb).
2025-09-12 12:14:10.247 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "BlogPosts" AS b
WHERE b."Status" = 'published'
2025-09-12 12:14:10.251 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b1."Id", b1."AuthorId", b1."CategoryId", b1."Content", b1."CreatedAt", b1."Excerpt", b1."FeaturedImageUrl", b1."IsFeatured", b1."MetaDescription", b1."MetaTitle", b1."PublishedAt", b1."Slug", b1."Status", b1."Tags", b1."Title", b1."UpdatedAt", b1."ViewCount", b0."Id", b0."CreatedAt", b0."Description", b0."IsActive", b0."Name", b0."Slug", b0."SortOrder", b0."UpdatedAt", a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    WHERE b."Status" = 'published'
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS b1
LEFT JOIN "BlogCategories" AS b0 ON b1."CategoryId" = b0."Id"
INNER JOIN "AspNetUsers" AS a ON b1."AuthorId" = a."Id"
ORDER BY b1.c DESC
2025-09-12 12:14:10.254 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."Description", b."IsActive", b."Name", b."Slug", b."SortOrder", b."UpdatedAt"
FROM "BlogCategories" AS b
WHERE b."IsActive"
ORDER BY b."SortOrder"
2025-09-12 12:14:10.257 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b1."Id", b1."AuthorId", b1."CategoryId", b1."Content", b1."CreatedAt", b1."Excerpt", b1."FeaturedImageUrl", b1."IsFeatured", b1."MetaDescription", b1."MetaTitle", b1."PublishedAt", b1."Slug", b1."Status", b1."Tags", b1."Title", b1."UpdatedAt", b1."ViewCount", b0."Id", b0."CreatedAt", b0."Description", b0."IsActive", b0."Name", b0."Slug", b0."SortOrder", b0."UpdatedAt"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    WHERE b."Status" = 'published' AND b."IsFeatured"
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_0
) AS b1
LEFT JOIN "BlogCategories" AS b0 ON b1."CategoryId" = b0."Id"
ORDER BY b1.c DESC
2025-09-12 12:14:10.258 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 12:14:10.261 +07:00 [INF] Executed ViewResult - view Index executed in 3.1855ms.
2025-09-12 12:14:10.261 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb) in 118.9589ms
2025-09-12 12:14:10.261 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb)'
2025-09-12 12:14:10.262 +07:00 [INF] The response has been cached.
2025-09-12 12:14:10.262 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Blog - 200 null text/html; charset=utf-8 121.0247ms
2025-09-12 12:22:22.743 +07:00 [INF] Application is shutting down...
2025-09-12 12:36:37.806 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 12:36:39.493 +07:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 12:36:39.500 +07:00 [INF] Database ensured created successfully
2025-09-12 12:36:40.080 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 12:36:40.157 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 12:36:40.159 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 12:36:40.159 +07:00 [INF] Roles seeded successfully
2025-09-12 12:36:40.178 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 12:36:40.295 +07:00 [INF] Admin user seeded successfully
2025-09-12 12:36:40.299 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 12:36:40.728 +07:00 [INF] Now listening on: http://localhost:5101
2025-09-12 12:36:40.730 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-12 12:36:40.731 +07:00 [INF] Hosting environment: Development
2025-09-12 12:36:40.731 +07:00 [INF] Content root path: /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website
2025-09-12 12:36:46.792 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/ - null null
2025-09-12 12:36:46.866 +07:00 [INF] No cached response available for this request.
2025-09-12 12:36:46.873 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-12 12:36:47.065 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 12:36:47.084 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 12:36:47.116 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 12:36:47.511 +07:00 [INF] Executed ViewResult - view Index executed in 394.5047ms.
2025-09-12 12:36:47.526 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 439.9946ms
2025-09-12 12:36:47.526 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 12:36:47.527 +07:00 [INF] The response has been cached.
2025-09-12 12:36:47.533 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/ - 200 null text/html; charset=utf-8 748.7337ms
2025-09-12 12:36:48.504 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - null null
2025-09-12 12:36:48.504 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - null null
2025-09-12 12:36:48.508 +07:00 [INF] No cached response available for this request.
2025-09-12 12:36:48.508 +07:00 [INF] No cached response available for this request.
2025-09-12 12:36:48.529 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 12:36:48.529 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 12:36:48.547 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 12:36:48.547 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 12:36:48.547 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:36:48.547 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:36:48.548 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - 401 0 null 44.2832ms
2025-09-12 12:36:48.548 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - 401 0 null 44.2793ms
2025-09-12 12:37:31.406 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Blog - null null
2025-09-12 12:37:31.409 +07:00 [INF] No cached response available for this request.
2025-09-12 12:37:31.422 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb)'
2025-09-12 12:37:31.441 +07:00 [INF] Route matched with {action = "Index", controller = "Blog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32, System.String, System.String) on controller JohnHenryFashionWeb.Controllers.BlogController (JohnHenryFashionWeb).
2025-09-12 12:37:31.537 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "BlogPosts" AS b
WHERE b."Status" = 'published'
2025-09-12 12:37:31.823 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b1."Id", b1."AuthorId", b1."CategoryId", b1."Content", b1."CreatedAt", b1."Excerpt", b1."FeaturedImageUrl", b1."IsFeatured", b1."MetaDescription", b1."MetaTitle", b1."PublishedAt", b1."Slug", b1."Status", b1."Tags", b1."Title", b1."UpdatedAt", b1."ViewCount", b0."Id", b0."CreatedAt", b0."Description", b0."IsActive", b0."Name", b0."Slug", b0."SortOrder", b0."UpdatedAt", a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    WHERE b."Status" = 'published'
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS b1
LEFT JOIN "BlogCategories" AS b0 ON b1."CategoryId" = b0."Id"
INNER JOIN "AspNetUsers" AS a ON b1."AuthorId" = a."Id"
ORDER BY b1.c DESC
2025-09-12 12:37:31.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."Description", b."IsActive", b."Name", b."Slug", b."SortOrder", b."UpdatedAt"
FROM "BlogCategories" AS b
WHERE b."IsActive"
ORDER BY b."SortOrder"
2025-09-12 12:37:31.944 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b1."Id", b1."AuthorId", b1."CategoryId", b1."Content", b1."CreatedAt", b1."Excerpt", b1."FeaturedImageUrl", b1."IsFeatured", b1."MetaDescription", b1."MetaTitle", b1."PublishedAt", b1."Slug", b1."Status", b1."Tags", b1."Title", b1."UpdatedAt", b1."ViewCount", b0."Id", b0."CreatedAt", b0."Description", b0."IsActive", b0."Name", b0."Slug", b0."SortOrder", b0."UpdatedAt"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    WHERE b."Status" = 'published' AND b."IsFeatured"
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_0
) AS b1
LEFT JOIN "BlogCategories" AS b0 ON b1."CategoryId" = b0."Id"
ORDER BY b1.c DESC
2025-09-12 12:37:31.962 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 12:37:32.062 +07:00 [INF] Executed ViewResult - view Index executed in 101.7453ms.
2025-09-12 12:37:32.066 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb) in 624.8314ms
2025-09-12 12:37:32.067 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Index (JohnHenryFashionWeb)'
2025-09-12 12:37:32.070 +07:00 [INF] The response has been cached.
2025-09-12 12:37:32.084 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Blog - 200 null text/html; charset=utf-8 678.2566ms
2025-09-12 12:37:40.432 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Blog/Category?slug=xu-huong-thoi-trang - null null
2025-09-12 12:37:40.432 +07:00 [INF] No cached response available for this request.
2025-09-12 12:37:40.433 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Category (JohnHenryFashionWeb)'
2025-09-12 12:37:40.438 +07:00 [INF] Route matched with {action = "Category", controller = "Blog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Category(System.String, Int32) on controller JohnHenryFashionWeb.Controllers.BlogController (JohnHenryFashionWeb).
2025-09-12 12:37:40.572 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__slug_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."Description", b."IsActive", b."Name", b."Slug", b."SortOrder", b."UpdatedAt"
FROM "BlogCategories" AS b
WHERE b."Slug" = @__slug_0 AND b."IsActive"
LIMIT 1
2025-09-12 12:37:40.592 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__slug_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "BlogPosts" AS b
LEFT JOIN "BlogCategories" AS b0 ON b."CategoryId" = b0."Id"
WHERE b."Status" = 'published' AND b0."Id" IS NOT NULL AND b0."Slug" = @__slug_0
2025-09-12 12:37:40.720 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__slug_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AuthorId", s."CategoryId", s."Content", s."CreatedAt", s."Excerpt", s."FeaturedImageUrl", s."IsFeatured", s."MetaDescription", s."MetaTitle", s."PublishedAt", s."Slug", s."Status", s."Tags", s."Title", s."UpdatedAt", s."ViewCount", s."Id0", s."CreatedAt0", s."Description", s."IsActive", s."Name", s."Slug0", s."SortOrder", s."UpdatedAt0", a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", b0."Id" AS "Id0", b0."CreatedAt" AS "CreatedAt0", b0."Description", b0."IsActive", b0."Name", b0."Slug" AS "Slug0", b0."SortOrder", b0."UpdatedAt" AS "UpdatedAt0", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    LEFT JOIN "BlogCategories" AS b0 ON b."CategoryId" = b0."Id"
    WHERE b."Status" = 'published' AND b0."Id" IS NOT NULL AND b0."Slug" = @__slug_0
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s."AuthorId" = a."Id"
ORDER BY s.c DESC
2025-09-12 12:37:40.723 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."CreatedAt", b."Description", b."IsActive", b."Name", b."Slug", b."SortOrder", b."UpdatedAt"
FROM "BlogCategories" AS b
WHERE b."IsActive"
ORDER BY b."SortOrder"
2025-09-12 12:37:40.725 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b1."Id", b1."AuthorId", b1."CategoryId", b1."Content", b1."CreatedAt", b1."Excerpt", b1."FeaturedImageUrl", b1."IsFeatured", b1."MetaDescription", b1."MetaTitle", b1."PublishedAt", b1."Slug", b1."Status", b1."Tags", b1."Title", b1."UpdatedAt", b1."ViewCount", b0."Id", b0."CreatedAt", b0."Description", b0."IsActive", b0."Name", b0."Slug", b0."SortOrder", b0."UpdatedAt"
FROM (
    SELECT b."Id", b."AuthorId", b."CategoryId", b."Content", b."CreatedAt", b."Excerpt", b."FeaturedImageUrl", b."IsFeatured", b."MetaDescription", b."MetaTitle", b."PublishedAt", b."Slug", b."Status", b."Tags", b."Title", b."UpdatedAt", b."ViewCount", COALESCE(b."PublishedAt", b."CreatedAt") AS c
    FROM "BlogPosts" AS b
    WHERE b."Status" = 'published' AND b."IsFeatured"
    ORDER BY COALESCE(b."PublishedAt", b."CreatedAt") DESC
    LIMIT @__p_0
) AS b1
LEFT JOIN "BlogCategories" AS b0 ON b1."CategoryId" = b0."Id"
ORDER BY b1.c DESC
2025-09-12 12:37:40.730 +07:00 [INF] Executing ViewResult, running view Category.
2025-09-12 12:37:40.759 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.BlogController.Category (JohnHenryFashionWeb) in 321.5028ms
2025-09-12 12:37:40.761 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.BlogController.Category (JohnHenryFashionWeb)'
2025-09-12 12:37:40.763 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The following sections have been defined but have not been rendered by the page at '/Views/Shared/_Layout.cshtml': 'Styles'. To ignore an unrendered section call IgnoreSection("sectionName").
   at Microsoft.AspNetCore.Mvc.Razor.RazorPage.EnsureRenderedBodyOrSections()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at JohnHenryFashionWeb.Middleware.ImageOptimizationMiddleware.InvokeAsync(HttpContext context) in /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/Middleware/PerformanceMiddleware.cs:line 111
   at JohnHenryFashionWeb.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/Middleware/PerformanceMiddleware.cs:line 71
   at JohnHenryFashionWeb.Middleware.PerformanceMiddleware.InvokeAsync(HttpContext context) in /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/Middleware/PerformanceMiddleware.cs:line 39
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-12 12:37:40.819 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Blog/Category?slug=xu-huong-thoi-trang - 500 null text/html; charset=utf-8 387.3732ms
2025-09-12 12:37:56.261 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - null null
2025-09-12 12:37:56.263 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - null null
2025-09-12 12:37:56.263 +07:00 [INF] No cached response available for this request.
2025-09-12 12:37:56.272 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 12:37:56.273 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 12:37:56.273 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:37:56.273 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - 401 0 null 11.8762ms
2025-09-12 12:37:56.277 +07:00 [INF] No cached response available for this request.
2025-09-12 12:37:56.277 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 12:37:56.278 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 12:37:56.278 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:37:56.278 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - 401 0 null 16.6934ms
2025-09-12 12:38:35.686 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/.well-known/appspecific/com.chrome.devtools.json - null null
2025-09-12 12:38:35.686 +07:00 [INF] No cached response available for this request.
2025-09-12 12:38:35.687 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:38:35.688 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 1.6985ms
2025-09-12 12:38:35.689 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-09-12 12:38:35.890 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2025-09-12 12:38:35.890 +07:00 [INF] No cached response available for this request.
2025-09-12 12:38:35.895 +07:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js.map was not modified
2025-09-12 12:38:35.896 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:38:35.896 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 304 null text/plain 6.3023ms
2025-09-12 12:38:35.911 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/lib/bootstrap/dist/css/bootstrap.min.css.map - null null
2025-09-12 12:38:35.911 +07:00 [INF] No cached response available for this request.
2025-09-12 12:38:35.912 +07:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css.map was not modified
2025-09-12 12:38:35.912 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:38:35.913 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/lib/bootstrap/dist/css/bootstrap.min.css.map - 304 null text/plain 1.523ms
2025-09-12 12:39:31.384 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757655571377 - null null
2025-09-12 12:39:31.385 +07:00 [INF] No cached response available for this request.
2025-09-12 12:39:31.386 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 12:39:31.386 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 12:39:31.387 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 12:39:31.391 +07:00 [INF] Executed ViewResult - view Index executed in 4.4369ms.
2025-09-12 12:39:31.391 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 4.9431ms
2025-09-12 12:39:31.392 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 12:39:31.392 +07:00 [INF] The response has been cached.
2025-09-12 12:39:31.392 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757655571377 - 200 null text/html; charset=utf-8 7.9355ms
2025-09-12 12:41:59.927 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Account/Login?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757655719921 - null null
2025-09-12 12:41:59.928 +07:00 [INF] No cached response available for this request.
2025-09-12 12:41:59.928 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.AccountController.Login (JohnHenryFashionWeb)'
2025-09-12 12:41:59.931 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller JohnHenryFashionWeb.Controllers.AccountController (JohnHenryFashionWeb).
2025-09-12 12:41:59.938 +07:00 [INF] Executing ViewResult, running view Login.
2025-09-12 12:41:59.966 +07:00 [WRN] The 'Cache-Control' and 'Pragma' headers have been overridden and set to 'no-cache, no-store' and 'no-cache' respectively to prevent caching of this response. Any response that uses antiforgery should not be cached.
2025-09-12 12:42:00.022 +07:00 [INF] Executed ViewResult - view Login executed in 85.0856ms.
2025-09-12 12:42:00.023 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.AccountController.Login (JohnHenryFashionWeb) in 90.7603ms
2025-09-12 12:42:00.023 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.AccountController.Login (JohnHenryFashionWeb)'
2025-09-12 12:42:00.023 +07:00 [INF] The response could not be cached for this request.
2025-09-12 12:42:00.023 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Account/Login?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757655719921 - 200 null text/html; charset=utf-8 95.8822ms
2025-09-12 12:49:44.089 +07:00 [INF] Application is shutting down...
2025-09-12 16:08:54.389 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-12 16:08:55.032 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-09-12 16:08:55.045 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-12 16:08:55.048 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-09-12 16:08:55.052 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-12 16:08:55.075 +07:00 [INF] Applying migration '20250912083723_AddNotifications'.
2025-09-12 16:08:55.165 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Notifications" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" character varying(450) NOT NULL,
    "Title" character varying(255) NOT NULL,
    "Message" character varying(1000) NOT NULL,
    "Type" character varying(50) NOT NULL,
    "ActionUrl" character varying(500),
    "IsRead" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "ReadAt" timestamp with time zone,
    CONSTRAINT "PK_Notifications" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Notifications_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-09-12 16:08:55.181 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Notifications_CreatedAt" ON "Notifications" ("CreatedAt");
2025-09-12 16:08:55.196 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Notifications_IsRead" ON "Notifications" ("IsRead");
2025-09-12 16:08:55.206 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Notifications_Type" ON "Notifications" ("Type");
2025-09-12 16:08:55.209 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Notifications_UserId" ON "Notifications" ("UserId");
2025-09-12 16:08:55.240 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Notifications_UserId_IsRead" ON "Notifications" ("UserId", "IsRead");
2025-09-12 16:08:55.241 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250912083723_AddNotifications', '9.0.1');
2025-09-12 16:08:55.242 +07:00 [INF] Applying migration '20250912084430_AddSecurityEntities'.
2025-09-12 16:08:55.399 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ActiveSessions" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "SessionId" character varying(255) NOT NULL,
    "UserId" character varying(450) NOT NULL,
    "IpAddress" character varying(45),
    "UserAgent" character varying(500),
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "LastActivity" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "ExpiresAt" timestamp with time zone NOT NULL,
    "IsActive" boolean NOT NULL,
    CONSTRAINT "PK_ActiveSessions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ActiveSessions_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-09-12 16:08:55.405 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PasswordHistories" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" character varying(450) NOT NULL,
    "PasswordHash" character varying(500) NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT "PK_PasswordHistories" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_PasswordHistories_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-09-12 16:08:55.415 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "SecurityLogs" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" character varying(450) NOT NULL,
    "EventType" character varying(100) NOT NULL,
    "Description" character varying(1000) NOT NULL,
    "IpAddress" character varying(45),
    "UserAgent" character varying(500),
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT "PK_SecurityLogs" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_SecurityLogs_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-09-12 16:08:55.427 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "TwoFactorTokens" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" character varying(450) NOT NULL,
    "Token" character varying(100) NOT NULL,
    "Purpose" character varying(50) NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "ExpiresAt" timestamp with time zone NOT NULL,
    "IsUsed" boolean NOT NULL,
    CONSTRAINT "PK_TwoFactorTokens" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_TwoFactorTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-09-12 16:08:55.431 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ActiveSessions_ExpiresAt" ON "ActiveSessions" ("ExpiresAt");
2025-09-12 16:08:55.434 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ActiveSessions_IsActive" ON "ActiveSessions" ("IsActive");
2025-09-12 16:08:55.467 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_ActiveSessions_SessionId" ON "ActiveSessions" ("SessionId");
2025-09-12 16:08:55.472 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ActiveSessions_UserId" ON "ActiveSessions" ("UserId");
2025-09-12 16:08:55.477 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PasswordHistories_CreatedAt" ON "PasswordHistories" ("CreatedAt");
2025-09-12 16:08:55.481 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PasswordHistories_UserId" ON "PasswordHistories" ("UserId");
2025-09-12 16:08:55.485 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_SecurityLogs_CreatedAt" ON "SecurityLogs" ("CreatedAt");
2025-09-12 16:08:55.490 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_SecurityLogs_EventType" ON "SecurityLogs" ("EventType");
2025-09-12 16:08:55.497 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_SecurityLogs_IpAddress" ON "SecurityLogs" ("IpAddress");
2025-09-12 16:08:55.501 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_SecurityLogs_UserId" ON "SecurityLogs" ("UserId");
2025-09-12 16:08:55.505 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_SecurityLogs_UserId_EventType" ON "SecurityLogs" ("UserId", "EventType");
2025-09-12 16:08:55.509 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_TwoFactorTokens_ExpiresAt" ON "TwoFactorTokens" ("ExpiresAt");
2025-09-12 16:08:55.514 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_TwoFactorTokens_IsUsed" ON "TwoFactorTokens" ("IsUsed");
2025-09-12 16:08:55.517 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_TwoFactorTokens_Token" ON "TwoFactorTokens" ("Token");
2025-09-12 16:08:55.520 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_TwoFactorTokens_UserId" ON "TwoFactorTokens" ("UserId");
2025-09-12 16:08:55.523 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_TwoFactorTokens_UserId_Purpose" ON "TwoFactorTokens" ("UserId", "Purpose");
2025-09-12 16:08:55.525 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250912084430_AddSecurityEntities', '9.0.1');
2025-09-12 16:08:55.525 +07:00 [INF] Applying migration '20250912090829_UpdateActiveSessionFields'.
2025-09-12 16:08:55.574 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ActiveSessions" ADD "DeviceType" text;
2025-09-12 16:08:55.576 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ActiveSessions" ADD "Location" text;
2025-09-12 16:08:55.577 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250912090829_UpdateActiveSessionFields', '9.0.1');
2025-09-12 21:47:35.761 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 21:47:36.938 +07:00 [WRN] The foreign key property 'PageView.SessionId1' was created in shadow state because a conflicting property with the simple name 'SessionId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:47:36.939 +07:00 [WRN] The foreign key property 'PaymentAttempt.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:47:36.939 +07:00 [WRN] The foreign key property 'RefundRequest.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:47:37.341 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 21:47:37.348 +07:00 [INF] Database ensured created successfully
2025-09-12 21:47:37.771 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 21:47:37.839 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 21:47:37.841 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 21:47:37.842 +07:00 [INF] Roles seeded successfully
2025-09-12 21:47:37.871 +07:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastLoginDate", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 21:47:37.888 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'JohnHenryFashionWeb.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column a.LastLoginDate does not exist

POSITION: 276
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.LastLoginDate does not exist
    Position: 276
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column a.LastLoginDate does not exist

POSITION: 276
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.LastLoginDate does not exist
    Position: 276
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn
2025-09-12 21:47:37.893 +07:00 [ERR] An error occurred while ensuring database created or seeding data
Npgsql.PostgresException (0x80004005): 42703: column a.LastLoginDate does not exist

POSITION: 276
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Program.<<Main>$>g__SeedAdminUser|0_14(UserManager`1 userManager) in /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/Program.cs:line 322
   at Program.<Main>$(String[] args) in /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/Program.cs:line 296
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.LastLoginDate does not exist
    Position: 276
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn
2025-09-12 21:47:37.906 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 21:47:38.230 +07:00 [INF] Now listening on: http://localhost:5101
2025-09-12 21:47:38.232 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-12 21:47:38.232 +07:00 [INF] Hosting environment: Development
2025-09-12 21:47:38.232 +07:00 [INF] Content root path: /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website
2025-09-12 21:47:59.349 +07:00 [INF] Application is shutting down...
2025-09-12 21:48:08.703 +07:00 [WRN] The foreign key property 'PageView.SessionId1' was created in shadow state because a conflicting property with the simple name 'SessionId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:48:08.758 +07:00 [WRN] The foreign key property 'PaymentAttempt.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:48:08.758 +07:00 [WRN] The foreign key property 'RefundRequest.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:51:43.924 +07:00 [WRN] The foreign key property 'PageView.SessionId1' was created in shadow state because a conflicting property with the simple name 'SessionId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:51:44.042 +07:00 [WRN] The foreign key property 'PaymentAttempt.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:51:44.043 +07:00 [WRN] The foreign key property 'RefundRequest.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:51:44.396 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-12 21:51:44.877 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-09-12 21:51:44.885 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-12 21:51:44.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-09-12 21:51:44.889 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-12 21:51:44.896 +07:00 [INF] Applying migration '20250912144809_AddLastLoginDateToUsers'.
2025-09-12 21:51:45.003 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "LastLoginDate" timestamp with time zone;
2025-09-12 21:51:45.019 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AnalyticsData" (
    "Id" uuid NOT NULL,
    "EventType" text NOT NULL,
    "EntityId" text,
    "UserId" text,
    "SessionId" text NOT NULL,
    "Source" text,
    "Medium" text,
    "Campaign" text,
    "Data" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AnalyticsData" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AnalyticsData_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id")
);
2025-09-12 21:51:45.029 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CheckoutSessions" (
    "Id" uuid NOT NULL,
    "UserId" text NOT NULL,
    "Email" character varying(255),
    "Status" character varying(50) NOT NULL,
    "TotalAmount" numeric(18,2) NOT NULL,
    "ShippingFee" numeric(18,2) NOT NULL,
    "Tax" numeric(18,2) NOT NULL,
    "DiscountAmount" numeric(18,2) NOT NULL,
    "CouponCode" character varying(50),
    "ShippingMethod" character varying(50),
    "PaymentMethod" character varying(50),
    "ShippingAddress" text,
    "BillingAddress" text,
    "Notes" text,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "UpdatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "ExpiresAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_CheckoutSessions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CheckoutSessions_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE SET NULL
);
2025-09-12 21:51:45.039 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ConversionEvents" (
    "Id" uuid NOT NULL,
    "UserId" text,
    "SessionId" text NOT NULL,
    "ConversionType" text NOT NULL,
    "Value" numeric NOT NULL,
    "PaymentMethod" text,
    "Source" text,
    "Medium" text,
    "Campaign" text,
    "OrderId" uuid,
    "ProductIds" text,
    "ConvertedAt" timestamp with time zone NOT NULL,
    "AdditionalData" text,
    CONSTRAINT "PK_ConversionEvents" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ConversionEvents_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id"),
    CONSTRAINT "FK_ConversionEvents_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id")
);
2025-09-12 21:51:45.055 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "OrderStatusHistories" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "OrderId" uuid NOT NULL,
    "Status" character varying(50) NOT NULL,
    "Notes" character varying(1000),
    "ChangedBy" text,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT "PK_OrderStatusHistories" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_OrderStatusHistories_AspNetUsers_ChangedBy" FOREIGN KEY ("ChangedBy") REFERENCES "AspNetUsers" ("Id") ON DELETE SET NULL,
    CONSTRAINT "FK_OrderStatusHistories_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE CASCADE
);
2025-09-12 21:51:45.068 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PaymentAttempts" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "PaymentId" character varying(255) NOT NULL,
    "OrderId" character varying(255) NOT NULL,
    "UserId" text NOT NULL,
    "Amount" numeric(18,2) NOT NULL,
    "Currency" character varying(3) NOT NULL DEFAULT 'VND',
    "PaymentMethod" character varying(50) NOT NULL,
    "Status" character varying(50) NOT NULL,
    "TransactionId" character varying(255),
    "ErrorMessage" text,
    "IpAddress" character varying(45),
    "UserAgent" character varying(500),
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "CompletedAt" timestamp with time zone,
    "OrderId1" uuid NOT NULL,
    CONSTRAINT "PK_PaymentAttempts" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_PaymentAttempts_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PaymentAttempts_Orders_OrderId1" FOREIGN KEY ("OrderId1") REFERENCES "Orders" ("Id") ON DELETE CASCADE
);
2025-09-12 21:51:45.077 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PaymentMethods" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Code" character varying(50) NOT NULL,
    "Description" character varying(500) NOT NULL,
    "IconUrl" character varying(255),
    "IsActive" boolean NOT NULL,
    "RequiresRedirect" boolean NOT NULL,
    "MinAmount" numeric(18,2),
    "MaxAmount" numeric(18,2),
    "SupportedCurrencies" character varying(100),
    "SortOrder" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "UpdatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT "PK_PaymentMethods" PRIMARY KEY ("Id")
);
2025-09-12 21:51:45.088 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Promotions" (
    "Id" uuid NOT NULL,
    "Name" character varying(255) NOT NULL,
    "Code" character varying(50) NOT NULL,
    "Type" character varying(50) NOT NULL,
    "Value" numeric(18,2) NOT NULL,
    "MinOrderAmount" numeric(18,2),
    "MaxDiscountAmount" numeric(18,2),
    "UsageLimit" integer,
    "UsageCount" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "StartDate" timestamp with time zone,
    "EndDate" timestamp with time zone,
    "Description" character varying(1000),
    "ApplicableProductIds" text,
    "ApplicableCategoryIds" text,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "UpdatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT "PK_Promotions" PRIMARY KEY ("Id")
);
2025-09-12 21:51:45.099 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "RefundRequests" (
    "Id" uuid NOT NULL,
    "PaymentId" character varying(255) NOT NULL,
    "OrderId" character varying(255) NOT NULL,
    "Amount" numeric(18,2) NOT NULL,
    "Reason" character varying(1000) NOT NULL,
    "Status" character varying(50) NOT NULL,
    "AdminNotes" character varying(1000),
    "RefundTransactionId" character varying(255),
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "ProcessedAt" timestamp with time zone,
    "RequestedBy" text NOT NULL,
    "ProcessedBy" text,
    "OrderId1" uuid NOT NULL,
    CONSTRAINT "PK_RefundRequests" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_RefundRequests_AspNetUsers_RequestedBy" FOREIGN KEY ("RequestedBy") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_RefundRequests_Orders_OrderId1" FOREIGN KEY ("OrderId1") REFERENCES "Orders" ("Id") ON DELETE CASCADE
);
2025-09-12 21:51:45.111 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ReportTemplates" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "ReportType" text NOT NULL,
    "Format" text NOT NULL,
    "Frequency" text NOT NULL,
    "Parameters" text,
    "Configuration" text,
    "IsActive" boolean NOT NULL,
    "CreatedBy" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    "LastRunDate" timestamp with time zone,
    "NextRunDate" timestamp with time zone,
    "CreatedByUserId" text,
    CONSTRAINT "PK_ReportTemplates" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ReportTemplates_AspNetUsers_CreatedByUserId" FOREIGN KEY ("CreatedByUserId") REFERENCES "AspNetUsers" ("Id")
);
2025-09-12 21:51:45.125 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "SalesReports" (
    "Id" uuid NOT NULL,
    "ReportType" text NOT NULL,
    "StartDate" timestamp with time zone NOT NULL,
    "EndDate" timestamp with time zone NOT NULL,
    "TotalRevenue" numeric NOT NULL,
    "TotalOrders" integer NOT NULL,
    "TotalProducts" integer NOT NULL,
    "AverageOrderValue" numeric NOT NULL,
    "ReportData" text,
    "GeneratedAt" timestamp with time zone NOT NULL,
    "GeneratedBy" text,
    "Status" text NOT NULL,
    "GeneratedByUserId" text,
    CONSTRAINT "PK_SalesReports" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_SalesReports_AspNetUsers_GeneratedByUserId" FOREIGN KEY ("GeneratedByUserId") REFERENCES "AspNetUsers" ("Id")
);
2025-09-12 21:51:45.142 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ShippingMethods" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Code" character varying(50) NOT NULL,
    "Description" character varying(500) NOT NULL,
    "Cost" numeric(18,2) NOT NULL,
    "EstimatedDays" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "MinOrderAmount" numeric(18,2),
    "MaxWeight" numeric(10,2),
    "AvailableRegions" character varying(1000),
    "SortOrder" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "UpdatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT "PK_ShippingMethods" PRIMARY KEY ("Id")
);
2025-09-12 21:51:45.155 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserSessions" (
    "Id" uuid NOT NULL,
    "SessionId" text NOT NULL,
    "UserId" text,
    "StartTime" timestamp with time zone NOT NULL,
    "EndTime" timestamp with time zone,
    "Duration" integer,
    "UserAgent" text NOT NULL,
    "IpAddress" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "DeviceType" text,
    "Browser" text,
    "OperatingSystem" text,
    "Country" text,
    "City" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_UserSessions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserSessions_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id")
);
2025-09-12 21:51:45.167 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CheckoutSessionItems" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "CheckoutSessionId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Quantity" integer NOT NULL,
    "UnitPrice" numeric(18,2) NOT NULL,
    "TotalPrice" numeric(18,2) NOT NULL,
    "Size" character varying(20),
    "Color" character varying(50),
    "ProductName" character varying(255),
    "ProductImage" character varying(500),
    CONSTRAINT "PK_CheckoutSessionItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CheckoutSessionItems_CheckoutSessions_CheckoutSessionId" FOREIGN KEY ("CheckoutSessionId") REFERENCES "CheckoutSessions" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CheckoutSessionItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-09-12 21:51:45.179 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PageViews" (
    "Id" uuid NOT NULL,
    "UserId" text,
    "SessionId" text NOT NULL,
    "Page" text NOT NULL,
    "Referrer" text,
    "UserAgent" text NOT NULL,
    "IpAddress" text NOT NULL,
    "ViewedAt" timestamp with time zone NOT NULL,
    "TimeOnPage" integer,
    "ExitPage" text,
    "Source" text,
    "Medium" text,
    "Campaign" text,
    "SessionId1" uuid,
    CONSTRAINT "PK_PageViews" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_PageViews_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id"),
    CONSTRAINT "FK_PageViews_UserSessions_SessionId1" FOREIGN KEY ("SessionId1") REFERENCES "UserSessions" ("Id")
);
2025-09-12 21:51:45.186 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AnalyticsData_UserId" ON "AnalyticsData" ("UserId");
2025-09-12 21:51:45.192 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CheckoutSessionItems_CheckoutSessionId" ON "CheckoutSessionItems" ("CheckoutSessionId");
2025-09-12 21:51:45.198 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CheckoutSessionItems_ProductId" ON "CheckoutSessionItems" ("ProductId");
2025-09-12 21:51:45.213 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CheckoutSessions_ExpiresAt" ON "CheckoutSessions" ("ExpiresAt");
2025-09-12 21:51:45.266 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CheckoutSessions_Status" ON "CheckoutSessions" ("Status");
2025-09-12 21:51:45.280 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CheckoutSessions_UserId" ON "CheckoutSessions" ("UserId");
2025-09-12 21:51:45.294 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ConversionEvents_OrderId" ON "ConversionEvents" ("OrderId");
2025-09-12 21:51:45.304 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ConversionEvents_UserId" ON "ConversionEvents" ("UserId");
2025-09-12 21:51:45.316 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_OrderStatusHistories_ChangedBy" ON "OrderStatusHistories" ("ChangedBy");
2025-09-12 21:51:45.322 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_OrderStatusHistories_CreatedAt" ON "OrderStatusHistories" ("CreatedAt");
2025-09-12 21:51:45.330 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_OrderStatusHistories_OrderId" ON "OrderStatusHistories" ("OrderId");
2025-09-12 21:51:45.338 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_OrderStatusHistories_Status" ON "OrderStatusHistories" ("Status");
2025-09-12 21:51:45.349 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PageViews_SessionId1" ON "PageViews" ("SessionId1");
2025-09-12 21:51:45.355 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PageViews_UserId" ON "PageViews" ("UserId");
2025-09-12 21:51:45.362 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PaymentAttempts_CreatedAt" ON "PaymentAttempts" ("CreatedAt");
2025-09-12 21:51:45.370 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PaymentAttempts_OrderId" ON "PaymentAttempts" ("OrderId");
2025-09-12 21:51:45.374 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PaymentAttempts_OrderId1" ON "PaymentAttempts" ("OrderId1");
2025-09-12 21:51:45.377 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_PaymentAttempts_PaymentId" ON "PaymentAttempts" ("PaymentId");
2025-09-12 21:51:45.387 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PaymentAttempts_Status" ON "PaymentAttempts" ("Status");
2025-09-12 21:51:45.393 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PaymentAttempts_UserId" ON "PaymentAttempts" ("UserId");
2025-09-12 21:51:45.398 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_PaymentMethods_Code" ON "PaymentMethods" ("Code");
2025-09-12 21:51:45.406 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PaymentMethods_IsActive" ON "PaymentMethods" ("IsActive");
2025-09-12 21:51:45.417 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PaymentMethods_SortOrder" ON "PaymentMethods" ("SortOrder");
2025-09-12 21:51:45.426 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Promotions_Code" ON "Promotions" ("Code");
2025-09-12 21:51:45.433 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Promotions_EndDate" ON "Promotions" ("EndDate");
2025-09-12 21:51:45.442 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Promotions_IsActive" ON "Promotions" ("IsActive");
2025-09-12 21:51:45.452 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Promotions_StartDate" ON "Promotions" ("StartDate");
2025-09-12 21:51:45.461 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_RefundRequests_OrderId" ON "RefundRequests" ("OrderId");
2025-09-12 21:51:45.468 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_RefundRequests_OrderId1" ON "RefundRequests" ("OrderId1");
2025-09-12 21:51:45.477 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_RefundRequests_PaymentId" ON "RefundRequests" ("PaymentId");
2025-09-12 21:51:45.485 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_RefundRequests_RequestedBy" ON "RefundRequests" ("RequestedBy");
2025-09-12 21:51:45.492 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_RefundRequests_Status" ON "RefundRequests" ("Status");
2025-09-12 21:51:45.496 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ReportTemplates_CreatedByUserId" ON "ReportTemplates" ("CreatedByUserId");
2025-09-12 21:51:45.504 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_SalesReports_GeneratedByUserId" ON "SalesReports" ("GeneratedByUserId");
2025-09-12 21:51:45.511 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_ShippingMethods_Code" ON "ShippingMethods" ("Code");
2025-09-12 21:51:45.515 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ShippingMethods_IsActive" ON "ShippingMethods" ("IsActive");
2025-09-12 21:51:45.520 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ShippingMethods_SortOrder" ON "ShippingMethods" ("SortOrder");
2025-09-12 21:51:45.528 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserSessions_UserId" ON "UserSessions" ("UserId");
2025-09-12 21:51:45.531 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250912144809_AddLastLoginDateToUsers', '9.0.1');
2025-09-12 21:52:17.774 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 21:52:18.986 +07:00 [WRN] The foreign key property 'PageView.SessionId1' was created in shadow state because a conflicting property with the simple name 'SessionId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:52:18.986 +07:00 [WRN] The foreign key property 'PaymentAttempt.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:52:18.986 +07:00 [WRN] The foreign key property 'RefundRequest.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 21:52:19.385 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 21:52:19.403 +07:00 [INF] Database ensured created successfully
2025-09-12 21:52:19.837 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 21:52:19.902 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 21:52:19.904 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 21:52:19.905 +07:00 [INF] Roles seeded successfully
2025-09-12 21:52:19.924 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastLoginDate", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 21:52:20.050 +07:00 [INF] Admin user seeded successfully
2025-09-12 21:52:20.054 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 21:52:20.382 +07:00 [INF] Now listening on: http://localhost:5101
2025-09-12 21:52:20.383 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-12 21:52:20.384 +07:00 [INF] Hosting environment: Development
2025-09-12 21:52:20.384 +07:00 [INF] Content root path: /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website
2025-09-12 22:00:03.336 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/ - null null
2025-09-12 22:00:03.407 +07:00 [INF] No cached response available for this request.
2025-09-12 22:00:03.411 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-12 22:00:03.728 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:00:03.748 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 22:00:03.962 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 22:00:04.292 +07:00 [INF] Executed ViewResult - view Index executed in 332.3325ms.
2025-09-12 22:00:04.307 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 556.2954ms
2025-09-12 22:00:04.308 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:00:04.309 +07:00 [INF] The response has been cached.
2025-09-12 22:00:04.318 +07:00 [INF] Performance log recorded: / - 886.4284ms
2025-09-12 22:00:04.322 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/ - 200 null text/html; charset=utf-8 991.4593ms
2025-09-12 22:00:04.463 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/client-suit-boutique-with-shopping-bags.jpg - null null
2025-09-12 22:00:04.463 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/images/Banner/banner-man-main.jpg - null null
2025-09-12 22:00:04.467 +07:00 [INF] No cached response available for this request.
2025-09-12 22:00:04.467 +07:00 [INF] No cached response available for this request.
2025-09-12 22:00:04.518 +07:00 [INF] Sending file. Request path: '/images/Banner/banner-man-main.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/Banner/banner-man-main.jpg'
2025-09-12 22:00:04.519 +07:00 [INF] The response has been cached.
2025-09-12 22:00:04.521 +07:00 [INF] Performance log recorded: /images/Banner/banner-man-main.jpg - 19.4911ms
2025-09-12 22:00:04.525 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/Banner/banner-man-main.jpg - 200 615280 image/jpeg 62.2833ms
2025-09-12 22:00:04.591 +07:00 [INF] Sending file. Request path: '/images/client-suit-boutique-with-shopping-bags.jpg'. Physical path: '/Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/wwwroot/images/client-suit-boutique-with-shopping-bags.jpg'
2025-09-12 22:00:04.591 +07:00 [INF] The response has been cached.
2025-09-12 22:00:04.593 +07:00 [INF] Performance log recorded: /images/client-suit-boutique-with-shopping-bags.jpg - 19.5997ms
2025-09-12 22:00:04.593 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/images/client-suit-boutique-with-shopping-bags.jpg - 200 7941832 image/jpeg 130.6261ms
2025-09-12 22:00:04.863 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - null null
2025-09-12 22:00:04.863 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - null null
2025-09-12 22:00:04.864 +07:00 [INF] No cached response available for this request.
2025-09-12 22:00:04.864 +07:00 [INF] No cached response available for this request.
2025-09-12 22:00:04.875 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 22:00:04.875 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 22:00:04.881 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 22:00:04.881 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 22:00:04.881 +07:00 [INF] The response could not be cached for this request.
2025-09-12 22:00:04.881 +07:00 [INF] The response could not be cached for this request.
2025-09-12 22:00:04.881 +07:00 [INF] Performance log recorded: /Products/IsInWishlist - 17.4336ms
2025-09-12 22:00:04.882 +07:00 [INF] Performance log recorded: /Products/IsInWishlist - 17.5691ms
2025-09-12 22:00:04.882 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - 401 0 null 19.2422ms
2025-09-12 22:00:04.882 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - 401 0 null 19.1552ms
2025-09-12 22:01:16.909 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757689276903 - null null
2025-09-12 22:01:16.910 +07:00 [INF] No cached response available for this request.
2025-09-12 22:01:16.913 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:01:16.914 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 22:01:16.916 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 22:01:16.923 +07:00 [INF] Executed ViewResult - view Index executed in 7.7809ms.
2025-09-12 22:01:16.924 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 9.674ms
2025-09-12 22:01:16.924 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:01:16.924 +07:00 [INF] The response has been cached.
2025-09-12 22:01:16.924 +07:00 [INF] Performance log recorded: / - 12.4709ms
2025-09-12 22:01:16.924 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757689276903 - 200 null text/html; charset=utf-8 15.5212ms
2025-09-12 22:03:45.198 +07:00 [INF] Application is shutting down...
2025-09-12 22:04:25.504 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 22:04:26.687 +07:00 [WRN] The foreign key property 'PageView.SessionId1' was created in shadow state because a conflicting property with the simple name 'SessionId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:04:26.688 +07:00 [WRN] The foreign key property 'PaymentAttempt.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:04:26.688 +07:00 [WRN] The foreign key property 'RefundRequest.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:04:27.044 +07:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 22:04:27.049 +07:00 [INF] Database ensured created successfully
2025-09-12 22:04:27.376 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:04:27.427 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:04:27.429 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:04:27.430 +07:00 [INF] Roles seeded successfully
2025-09-12 22:04:27.446 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastLoginDate", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 22:04:27.634 +07:00 [INF] Admin user seeded successfully
2025-09-12 22:04:27.637 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 22:04:27.891 +07:00 [INF] Now listening on: http://localhost:5101
2025-09-12 22:04:27.892 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-12 22:04:27.893 +07:00 [INF] Hosting environment: Development
2025-09-12 22:04:27.893 +07:00 [INF] Content root path: /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website
2025-09-12 22:04:35.943 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757689475896 - null null
2025-09-12 22:04:35.973 +07:00 [INF] No cached response available for this request.
2025-09-12 22:04:35.976 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-12 22:04:36.122 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:04:36.130 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 22:04:36.216 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 22:04:36.493 +07:00 [INF] Executed ViewResult - view Index executed in 276.9731ms.
2025-09-12 22:04:36.499 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 368.4985ms
2025-09-12 22:04:36.499 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:04:36.500 +07:00 [INF] The response has been cached.
2025-09-12 22:04:36.505 +07:00 [INF] Performance log recorded: / - 519.9705ms
2025-09-12 22:04:36.508 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757689475896 - 200 null text/html; charset=utf-8 567.0035ms
2025-09-12 22:04:38.991 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/ - null null
2025-09-12 22:04:38.993 +07:00 [INF] No cached response available for this request.
2025-09-12 22:04:38.996 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:04:38.996 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 22:04:38.997 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 22:04:39.004 +07:00 [INF] Executed ViewResult - view Index executed in 6.8116ms.
2025-09-12 22:04:39.004 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 8.0257ms
2025-09-12 22:04:39.005 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:04:39.005 +07:00 [INF] The response has been cached.
2025-09-12 22:04:39.006 +07:00 [INF] Performance log recorded: / - 9.5352ms
2025-09-12 22:04:39.007 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/ - 200 null text/html; charset=utf-8 15.5414ms
2025-09-12 22:04:39.518 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - null null
2025-09-12 22:04:39.518 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - null null
2025-09-12 22:04:39.520 +07:00 [INF] No cached response available for this request.
2025-09-12 22:04:39.520 +07:00 [INF] No cached response available for this request.
2025-09-12 22:04:39.533 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 22:04:39.533 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 22:04:39.539 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 22:04:39.539 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 22:04:39.539 +07:00 [INF] The response could not be cached for this request.
2025-09-12 22:04:39.539 +07:00 [INF] The response could not be cached for this request.
2025-09-12 22:04:39.542 +07:00 [INF] Performance log recorded: /Products/IsInWishlist - 19.6167ms
2025-09-12 22:04:39.542 +07:00 [INF] Performance log recorded: /Products/IsInWishlist - 19.6404ms
2025-09-12 22:04:39.543 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - 401 0 null 24.6318ms
2025-09-12 22:04:39.543 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - 401 0 null 24.6453ms
2025-09-12 22:04:39.728 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/favicon.ico - null null
2025-09-12 22:04:39.729 +07:00 [INF] No cached response available for this request.
2025-09-12 22:04:39.745 +07:00 [INF] The file /favicon.ico was not modified
2025-09-12 22:04:39.747 +07:00 [INF] The response could not be cached for this request.
2025-09-12 22:04:39.747 +07:00 [INF] Performance log recorded: /favicon.ico - 18.4298ms
2025-09-12 22:04:39.747 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/favicon.ico - 304 null image/x-icon 19.4067ms
2025-09-12 22:04:54.834 +07:00 [INF] Application is shutting down...
2025-09-12 22:06:01.112 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 22:06:02.313 +07:00 [WRN] The foreign key property 'PageView.SessionId1' was created in shadow state because a conflicting property with the simple name 'SessionId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:06:02.313 +07:00 [WRN] The foreign key property 'PaymentAttempt.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:06:02.313 +07:00 [WRN] The foreign key property 'RefundRequest.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:06:02.715 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 22:06:02.722 +07:00 [INF] Database ensured created successfully
2025-09-12 22:06:03.148 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:06:03.216 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:06:03.219 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:06:03.219 +07:00 [INF] Roles seeded successfully
2025-09-12 22:06:03.357 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastLoginDate", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 22:06:03.502 +07:00 [INF] Admin user seeded successfully
2025-09-12 22:06:03.506 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 22:06:03.857 +07:00 [INF] Now listening on: http://localhost:5101
2025-09-12 22:06:03.859 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-12 22:06:03.859 +07:00 [INF] Hosting environment: Development
2025-09-12 22:06:03.859 +07:00 [INF] Content root path: /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website
2025-09-12 22:06:18.084 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/ - null null
2025-09-12 22:06:18.118 +07:00 [INF] No cached response available for this request.
2025-09-12 22:06:18.120 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-12 22:06:18.265 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:06:18.273 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 22:06:18.363 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 22:06:18.670 +07:00 [INF] Executed ViewResult - view Index executed in 307.4089ms.
2025-09-12 22:06:18.679 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 404.8384ms
2025-09-12 22:06:18.679 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:06:18.681 +07:00 [INF] The response has been cached.
2025-09-12 22:06:18.687 +07:00 [INF] Performance log recorded: / - 543.9461ms
2025-09-12 22:06:18.691 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/ - 200 null text/html; charset=utf-8 609.1334ms
2025-09-12 22:08:34.432 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/ - null null
2025-09-12 22:08:34.439 +07:00 [INF] Serving response from cache.
2025-09-12 22:08:34.440 +07:00 [INF] Performance log recorded: / - 3.4308ms
2025-09-12 22:08:34.441 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/ - 200 null text/html; charset=utf-8 9.3106ms
2025-09-12 22:08:42.444 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757689722439 - null null
2025-09-12 22:08:42.446 +07:00 [INF] No cached response available for this request.
2025-09-12 22:08:42.448 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:08:42.448 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 22:08:42.449 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 22:08:42.465 +07:00 [INF] Executed ViewResult - view Index executed in 16.0463ms.
2025-09-12 22:08:42.466 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 17.4198ms
2025-09-12 22:08:42.466 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:08:42.466 +07:00 [INF] The response has been cached.
2025-09-12 22:08:42.469 +07:00 [INF] Performance log recorded: / - 17.8691ms
2025-09-12 22:08:42.472 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757689722439 - 200 null text/html; charset=utf-8 27.8332ms
2025-09-12 22:10:55.794 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/ - null null
2025-09-12 22:10:55.802 +07:00 [INF] No cached response available for this request.
2025-09-12 22:10:55.806 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:10:55.806 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 22:10:55.808 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 22:10:55.811 +07:00 [INF] Executed ViewResult - view Index executed in 3.2982ms.
2025-09-12 22:10:55.811 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 4.4154ms
2025-09-12 22:10:55.811 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:10:55.811 +07:00 [INF] The response has been cached.
2025-09-12 22:10:55.811 +07:00 [INF] Performance log recorded: / - 7.3015ms
2025-09-12 22:10:55.812 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/ - 200 null text/html; charset=utf-8 17.7393ms
2025-09-12 22:10:56.150 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - null null
2025-09-12 22:10:56.150 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - null null
2025-09-12 22:10:56.151 +07:00 [INF] No cached response available for this request.
2025-09-12 22:10:56.151 +07:00 [INF] No cached response available for this request.
2025-09-12 22:10:56.160 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 22:10:56.160 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-12 22:10:56.167 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 22:10:56.167 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-12 22:10:56.167 +07:00 [INF] The response could not be cached for this request.
2025-09-12 22:10:56.167 +07:00 [INF] The response could not be cached for this request.
2025-09-12 22:10:56.168 +07:00 [INF] Performance log recorded: /Products/IsInWishlist - 16.965ms
2025-09-12 22:10:56.168 +07:00 [INF] Performance log recorded: /Products/IsInWishlist - 17.0725ms
2025-09-12 22:10:56.168 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-polo-001 - 401 0 null 18.2636ms
2025-09-12 22:10:56.168 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/Products/IsInWishlist?productId=john-henry-hoodie-001 - 401 0 null 18.2636ms
2025-09-12 22:24:36.913 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757690676905 - null null
2025-09-12 22:24:36.915 +07:00 [INF] No cached response available for this request.
2025-09-12 22:24:36.916 +07:00 [INF] Executing endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:24:36.916 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller JohnHenryFashionWeb.Controllers.HomeController (JohnHenryFashionWeb).
2025-09-12 22:24:36.917 +07:00 [INF] Executing ViewResult, running view Index.
2025-09-12 22:24:36.921 +07:00 [INF] Executed ViewResult - view Index executed in 3.9656ms.
2025-09-12 22:24:36.921 +07:00 [INF] Executed action JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb) in 4.7128ms
2025-09-12 22:24:36.922 +07:00 [INF] Executed endpoint 'JohnHenryFashionWeb.Controllers.HomeController.Index (JohnHenryFashionWeb)'
2025-09-12 22:24:36.922 +07:00 [INF] The response has been cached.
2025-09-12 22:24:36.922 +07:00 [INF] Performance log recorded: / - 4.5351ms
2025-09-12 22:24:36.923 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/?id=68a52bbd-675e-478d-8950-b4a300c50dac&vscodeBrowserReqId=1757690676905 - 200 null text/html; charset=utf-8 9.6118ms
2025-09-12 22:25:31.632 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 22:25:32.515 +07:00 [WRN] The foreign key property 'PageView.SessionId1' was created in shadow state because a conflicting property with the simple name 'SessionId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:25:32.515 +07:00 [WRN] The foreign key property 'PaymentAttempt.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:25:32.516 +07:00 [WRN] The foreign key property 'RefundRequest.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:25:32.811 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 22:25:32.816 +07:00 [INF] Database ensured created successfully
2025-09-12 22:25:33.100 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:25:33.148 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:25:33.149 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:25:33.150 +07:00 [INF] Roles seeded successfully
2025-09-12 22:25:33.162 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastLoginDate", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 22:25:33.255 +07:00 [INF] Admin user seeded successfully
2025-09-12 22:25:33.258 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 22:25:33.485 +07:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5101: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-09-12 22:25:33.506 +07:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5101: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/Program.cs:line 349
2025-09-12 22:30:07.334 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 22:30:08.209 +07:00 [WRN] The foreign key property 'PageView.SessionId1' was created in shadow state because a conflicting property with the simple name 'SessionId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:30:08.210 +07:00 [WRN] The foreign key property 'PaymentAttempt.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:30:08.210 +07:00 [WRN] The foreign key property 'RefundRequest.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:30:08.505 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 22:30:08.510 +07:00 [INF] Database ensured created successfully
2025-09-12 22:30:08.818 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:30:08.867 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:30:08.869 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:30:08.869 +07:00 [INF] Roles seeded successfully
2025-09-12 22:30:08.881 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastLoginDate", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 22:30:08.966 +07:00 [INF] Admin user seeded successfully
2025-09-12 22:30:08.970 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 22:30:09.197 +07:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5101: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-09-12 22:30:09.211 +07:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5101: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/Program.cs:line 349
2025-09-12 22:32:32.895 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 22:32:34.089 +07:00 [WRN] The foreign key property 'PageView.SessionId1' was created in shadow state because a conflicting property with the simple name 'SessionId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:32:34.089 +07:00 [WRN] The foreign key property 'PaymentAttempt.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:32:34.089 +07:00 [WRN] The foreign key property 'RefundRequest.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 22:32:34.480 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 22:32:34.487 +07:00 [INF] Database ensured created successfully
2025-09-12 22:32:34.910 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:32:34.976 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:32:34.979 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 22:32:34.980 +07:00 [INF] Roles seeded successfully
2025-09-12 22:32:34.998 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastLoginDate", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 22:32:35.124 +07:00 [INF] Admin user seeded successfully
2025-09-12 22:32:35.128 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 22:32:35.446 +07:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5101: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-09-12 22:32:35.464 +07:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5101: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website/Program.cs:line 349
2025-09-12 23:08:36.936 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 23:08:38.309 +07:00 [WRN] The foreign key property 'PageView.SessionId1' was created in shadow state because a conflicting property with the simple name 'SessionId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 23:08:38.309 +07:00 [WRN] The foreign key property 'PaymentAttempt.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 23:08:38.309 +07:00 [WRN] The foreign key property 'RefundRequest.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 23:08:38.786 +07:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 23:08:38.793 +07:00 [INF] Database ensured created successfully
2025-09-12 23:08:39.237 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 23:08:39.305 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 23:08:39.307 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 23:08:39.308 +07:00 [INF] Roles seeded successfully
2025-09-12 23:08:39.326 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastLoginDate", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 23:08:39.457 +07:00 [INF] Admin user seeded successfully
2025-09-12 23:08:39.461 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 23:08:39.797 +07:00 [INF] Now listening on: http://localhost:5101
2025-09-12 23:08:39.799 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-12 23:08:39.799 +07:00 [INF] Hosting environment: Development
2025-09-12 23:08:39.799 +07:00 [INF] Content root path: /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website
2025-09-12 23:18:27.393 +07:00 [INF] User profile is available. Using '/Users/nguyenhuuthang/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-12 23:18:28.626 +07:00 [WRN] The foreign key property 'PageView.SessionId1' was created in shadow state because a conflicting property with the simple name 'SessionId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 23:18:28.626 +07:00 [WRN] The foreign key property 'PaymentAttempt.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 23:18:28.627 +07:00 [WRN] The foreign key property 'RefundRequest.OrderId1' was created in shadow state because a conflicting property with the simple name 'OrderId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-12 23:18:29.019 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-09-12 23:18:29.025 +07:00 [INF] Database ensured created successfully
2025-09-12 23:18:29.443 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 23:18:29.510 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 23:18:29.513 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-09-12 23:18:29.513 +07:00 [INF] Roles seeded successfully
2025-09-12 23:18:29.532 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."ApprovedAt", a."ApprovedBy", a."Avatar", a."BusinessLicense", a."CompanyName", a."ConcurrencyStamp", a."CreatedAt", a."DateOfBirth", a."Email", a."EmailConfirmed", a."FirstName", a."Gender", a."IsActive", a."IsApproved", a."LastLoginDate", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."Notes", a."PasswordHash", a."Phone", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TaxCode", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-09-12 23:18:29.658 +07:00 [INF] Admin user seeded successfully
2025-09-12 23:18:29.662 +07:00 [INF] Starting John Henry Fashion Web Application
2025-09-12 23:18:29.979 +07:00 [INF] Now listening on: http://localhost:5101
2025-09-12 23:18:29.981 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-12 23:18:29.981 +07:00 [INF] Hosting environment: Development
2025-09-12 23:18:29.981 +07:00 [INF] Content root path: /Users/nguyenhuuthang/Documents/RepoGitHub/John Henry Website
