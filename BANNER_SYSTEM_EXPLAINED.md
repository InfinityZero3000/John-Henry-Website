# ğŸ¨ Banner System - Giáº£i thÃ­ch Chi tiáº¿t & Vá»‹ trÃ­ Hiá»ƒn thá»‹

## ğŸ“ Vá»Š TRÃ HIá»‚N THá»Š BANNER TRÃŠN TRANG CHá»¦

### Hiá»‡n táº¡i (HARDCODED - KhÃ´ng dÃ¹ng Database)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     NAVIGATION BAR                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”´ Vá»Š TRÃ 1: HERO CAROUSEL (To, full-width)               â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”‚                                                              â”‚
â”‚  [â† Slide 1: Women Banner â†]                                â”‚
â”‚  [â†’ Slide 2: Men Banner   â†’]                                â”‚
â”‚                                                              â”‚
â”‚  â€¢ Chiá»u cao: ~500-600px                                     â”‚
â”‚  â€¢ ToÃ n bá»™ chiá»u rá»™ng mÃ n hÃ¬nh                              â”‚
â”‚  â€¢ Auto-play carousel (Bootstrap)                            â”‚
â”‚  â€¢ Hiá»‡n Ä‘ang HARDCODED 2 slides                             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”µ Vá»Š TRÃ 2:  â”‚  SMALL        â”‚  BANNERS (3 cá»™t)          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚               â”‚               â”‚                            â”‚
â”‚ John Henry -  â”‚  Best Seller  â”‚  Freelancer -              â”‚
â”‚ New Arrival   â”‚               â”‚  New Arrival               â”‚
â”‚               â”‚               â”‚                            â”‚
â”‚ [Xem ngay]    â”‚ [Xem ngay]    â”‚ [Xem ngay]                 â”‚
â”‚               â”‚               â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                              â”‚
â”‚              COLLECTIONS (John Henry, Freelancer...)        â”‚
â”‚                                                              â”‚
â”‚              FEATURED PRODUCTS                               â”‚
â”‚                                                              â”‚
â”‚              BLOG SECTION (ÄÃ£ upgrade - dynamic)            â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Sau khi NÃ¢ng cáº¥p (Sá»¬ Dá»¤NG DATABASE - DYNAMIC)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     NAVIGATION BAR                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Vá»Š TRÃ 1: HERO CAROUSEL - BANNER CHÃNH                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”‚                                                              â”‚
â”‚  Position: "home_main"                                       â”‚
â”‚  Source: MarketingBanners table (database)                   â”‚
â”‚  Filter:                                                     â”‚
â”‚    - IsActive = true                                         â”‚
â”‚    - StartDate <= Today <= EndDate                           â”‚
â”‚    - Position = "home_main"                                  â”‚
â”‚  Order: SortOrder ASC                                        â”‚
â”‚                                                              â”‚
â”‚  [â† Banner 1 (tá»« admin) â†]                                  â”‚
â”‚  [â†’ Banner 2 (tá»« admin) â†’]                                  â”‚
â”‚  [â†’ Banner 3 (tá»« admin) â†’]                                  â”‚
â”‚                                                              â”‚
â”‚  â€¢ Sá»‘ lÆ°á»£ng: TÃ¹y admin táº¡o bao nhiÃªu                         â”‚
â”‚  â€¢ Link: CÃ³ thá»ƒ click vÃ o banner â†’ LinkUrl                  â”‚
â”‚  â€¢ Responsive: Desktop image / Mobile image khÃ¡c nhau        â”‚
â”‚  â€¢ Analytics: Track ViewCount, ClickCount                    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Vá»Š TRÃ 2:  â”‚  SMALL        â”‚  BANNERS - 3 Cá»˜T          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚               â”‚               â”‚                            â”‚
â”‚ Position:     â”‚  Position:    â”‚  Position:                 â”‚
â”‚ "home_side"   â”‚  "home_side"  â”‚  "home_side"               â”‚
â”‚               â”‚               â”‚                            â”‚
â”‚ Small banner  â”‚  Small banner â”‚  Small banner              â”‚
â”‚ tá»« database   â”‚  tá»« database  â”‚  tá»« database               â”‚
â”‚               â”‚               â”‚                            â”‚
â”‚ [Link 1]      â”‚  [Link 2]     â”‚  [Link 3]                  â”‚
â”‚               â”‚               â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                              â”‚
â”‚              COLLECTIONS                                     â”‚
â”‚                                                              â”‚
â”‚              FEATURED PRODUCTS                               â”‚
â”‚                                                              â”‚
â”‚              BLOG SECTION âœ… (ÄÃ£ upgrade)                   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ Ã TÆ¯á»NG THIáº¾T Káº¾ BANNER SYSTEM

### 1. **Position-Based Banner System** ğŸ¯

Banner Ä‘Æ°á»£c thiáº¿t káº¿ theo **Vá»Š TRÃ** (Position), khÃ´ng pháº£i theo loáº¡i content. Äiá»u nÃ y giÃºp há»‡ thá»‘ng linh hoáº¡t vÃ  tÃ¡i sá»­ dá»¥ng Ä‘Æ°á»£c.

#### **CÃ¡c Position cÃ³ sáºµn**:

```csharp
Position = "home_main"         // Banner chÃ­nh trang chá»§ (Hero carousel)
Position = "home_side"         // Banner phá»¥ trang chá»§ (3 cá»™t nhá»)
Position = "category"          // Banner trÃªn trang danh má»¥c
Position = "product_detail"    // Banner trÃªn trang chi tiáº¿t sáº£n pháº©m
Position = "popup"             // Banner popup (cÃ³ thá»ƒ lÃ m modal)
```

**Táº¡i sao thiáº¿t káº¿ nhÆ° váº­y?**
- âœ… Admin cÃ³ thá»ƒ táº¡o banner cho Báº¤T Ká»² vá»‹ trÃ­ nÃ o
- âœ… Má»™t position cÃ³ thá»ƒ cÃ³ NHIá»€U banner (carousel)
- âœ… Dá»… má»Ÿ rá»™ng: ThÃªm position má»›i khÃ´ng cáº§n sá»­a code nhiá»u
- âœ… Dá»… quáº£n lÃ½: Admin biáº¿t rÃµ banner sáº½ xuáº¥t hiá»‡n á»Ÿ Ä‘Ã¢u

---

### 2. **Date Range Scheduling** ğŸ“…

Banner cÃ³ StartDate vÃ  EndDate Ä‘á»ƒ tá»± Ä‘á»™ng báº­t/táº¯t theo thá»i gian.

```csharp
StartDate = DateTime.UtcNow;   // Báº¯t Ä‘áº§u hiá»ƒn thá»‹
EndDate = DateTime.UtcNow + 7 days;  // Káº¿t thÃºc sau 7 ngÃ y
```

**Use Cases**:
- ğŸ„ **Banner GiÃ¡ng Sinh**: StartDate = 20/12, EndDate = 26/12
- ğŸ† **Banner Táº¿t**: StartDate = 01/02, EndDate = 15/02
- ğŸ”¥ **Flash Sale**: StartDate = Today 8AM, EndDate = Today 8PM
- ğŸ“¢ **Khuyáº¿n mÃ£i thÃ¡ng 11**: StartDate = 01/11, EndDate = 30/11

**Lá»£i Ã­ch**:
- âœ… Tá»± Ä‘á»™ng hiá»ƒn thá»‹/áº©n banner theo lá»‹ch
- âœ… Admin khÃ´ng cáº§n nhá»› táº¯t banner thá»§ cÃ´ng
- âœ… Chuáº©n bá»‹ trÆ°á»›c nhiá»u campaign

---

### 3. **SortOrder Priority** ğŸ”¢

Khi cÃ³ nhiá»u banner cÃ¹ng Position, SortOrder quyáº¿t Ä‘á»‹nh thá»© tá»± hiá»ƒn thá»‹.

```csharp
SortOrder = 0;  // Banner nÃ y hiá»ƒn thá»‹ Ä‘áº§u tiÃªn (slide 1)
SortOrder = 1;  // Banner nÃ y hiá»ƒn thá»‹ thá»© 2 (slide 2)
SortOrder = 2;  // Banner nÃ y hiá»ƒn thá»‹ thá»© 3 (slide 3)
```

**VÃ­ dá»¥ thá»±c táº¿**:
```
Position = "home_main"
â”œâ”€â”€ Banner A (SortOrder = 0) â†’ Slide 1 â­ Quan trá»ng nháº¥t
â”œâ”€â”€ Banner B (SortOrder = 1) â†’ Slide 2
â””â”€â”€ Banner C (SortOrder = 2) â†’ Slide 3
```

**Lá»£i Ã­ch**:
- âœ… Admin kiá»ƒm soÃ¡t Ä‘Æ°á»£c banner nÃ o hiá»ƒn thá»‹ trÆ°á»›c
- âœ… Banner quan trá»ng (khuyáº¿n mÃ£i lá»›n) cÃ³ thá»ƒ Ä‘áº·t slide 1
- âœ… Dá»… sáº¯p xáº¿p láº¡i thá»© tá»±

---

### 4. **Responsive Design** ğŸ“±ğŸ’»

Banner cÃ³ 2 image URLs riÃªng biá»‡t:

```csharp
ImageUrl = "~/images/banner-desktop.jpg";     // áº¢nh desktop (1920x600px)
MobileImageUrl = "~/images/banner-mobile.jpg"; // áº¢nh mobile (768x400px)
```

**HTML Implementation**:
```html
<picture>
    <!-- Náº¿u mÃ n hÃ¬nh <= 768px, dÃ¹ng áº£nh mobile -->
    <source media="(max-width: 768px)" srcset="@banner.MobileImageUrl">
    
    <!-- Náº¿u mÃ n hÃ¬nh > 768px, dÃ¹ng áº£nh desktop -->
    <img src="@banner.ImageUrl" alt="@banner.Title">
</picture>
```

**Táº¡i sao cáº§n 2 áº£nh riÃªng?**
- âŒ **Váº¥n Ä‘á» náº¿u chá»‰ dÃ¹ng 1 áº£nh**:
  - áº¢nh desktop trÃªn mobile: QuÃ¡ rá»™ng, text nhá», khÃ´ng Ä‘á»c Ä‘Æ°á»£c
  - áº¢nh mobile trÃªn desktop: Bá»‹ kÃ©o giÃ£n, má», khÃ´ng chuyÃªn nghiá»‡p
  
- âœ… **Giáº£i phÃ¡p vá»›i 2 áº£nh**:
  - Desktop: Text lá»›n á»Ÿ bÃªn trÃ¡i/pháº£i, áº£nh model á»Ÿ giá»¯a
  - Mobile: Text chá»“ng lÃªn áº£nh, layout dá»c, font size tá»‘i Æ°u

**VÃ­ dá»¥**:
```
Desktop Banner (1920x600):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GIáº¢M GIÃ 50%      [Model]    [Shop Now]  â”‚
â”‚  NEW COLLECTION                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Mobile Banner (768x400):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    [Model]      â”‚
â”‚                 â”‚
â”‚  GIáº¢M GIÃ 50%   â”‚
â”‚  NEW COLLECTION â”‚
â”‚  [Shop Now]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5. **Smart Linking** ğŸ”—

Banner cÃ³ LinkUrl vÃ  OpenInNewTab Ä‘á»ƒ Ä‘iá»u hÆ°á»›ng ngÆ°á»i dÃ¹ng.

```csharp
LinkUrl = "/products?category=women";  // Link ná»™i bá»™
OpenInNewTab = false;                  // Má»Ÿ cÃ¹ng tab

LinkUrl = "https://affiliate.com/deal"; // Link ngoÃ i
OpenInNewTab = true;                    // Má»Ÿ tab má»›i
```

**Use Cases**:
- ğŸ›ï¸ **Banner Sáº£n pháº©m má»›i**: LinkUrl = `/products?tag=new-arrival`
- ğŸ¯ **Banner Danh má»¥c**: LinkUrl = `/products?category=men-shirts`
- ğŸ’° **Banner Flash Sale**: LinkUrl = `/products?flashsale=active`
- ğŸ”— **Banner Affiliate**: LinkUrl = `https://partner.com`, OpenInNewTab = true
- â„¹ï¸ **Banner ThÃ´ng bÃ¡o**: LinkUrl = `/blog/announcement-2024`

**Lá»£i Ã­ch**:
- âœ… Click vÃ o banner = ÄÆ°a khÃ¡ch hÃ ng Ä‘áº¿n Ä‘Ãºng nÆ¡i
- âœ… TÄƒng conversion rate (khÃ´ng chá»‰ Ä‘áº¹p mÃ  cÃ²n cÃ³ chá»©c nÄƒng)
- âœ… Tracking: ClickCount Ä‘á»ƒ Ä‘o hiá»‡u quáº£ banner

---

### 6. **Analytics Tracking** ğŸ“Š

Banner tá»± Ä‘á»™ng track sá»‘ liá»‡u Ä‘á»ƒ Ä‘o lÆ°á»ng hiá»‡u quáº£.

```csharp
ViewCount = 0;   // Sá»‘ láº§n banner Ä‘Æ°á»£c hiá»ƒn thá»‹
ClickCount = 0;  // Sá»‘ láº§n ngÆ°á»i dÃ¹ng click vÃ o banner
```

**CÃ¡ch hoáº¡t Ä‘á»™ng**:
1. **ViewCount**: TÄƒng khi banner load trÃªn trang
   ```javascript
   // JavaScript tracking
   fetch('/api/banner/trackView/' + bannerId, { method: 'POST' });
   ```

2. **ClickCount**: TÄƒng khi user click vÃ o banner
   ```html
   <a href="@banner.LinkUrl" onclick="trackClick('@banner.Id')">
   ```

**BÃ¡o cÃ¡o Admin sáº½ tháº¥y**:
```
Banner A: 10,000 views â†’ 500 clicks = CTR 5%  â­ Hiá»‡u quáº£ tá»‘t
Banner B: 10,000 views â†’ 50 clicks  = CTR 0.5% âŒ Cáº§n thay Ä‘á»•i
Banner C: 5,000 views  â†’ 300 clicks = CTR 6%  â­â­ Ráº¥t tá»‘t
```

**Lá»£i Ã­ch**:
- âœ… Biáº¿t banner nÃ o hiá»‡u quáº£, banner nÃ o khÃ´ng
- âœ… Data-driven decisions: Äáº§u tÆ° vÃ o banner cÃ³ CTR cao
- âœ… A/B testing: So sÃ¡nh 2 design khÃ¡c nhau

---

### 7. **Active/Inactive Toggle** âš¡

Banner cÃ³ IsActive Ä‘á»ƒ báº­t/táº¯t nhanh mÃ  khÃ´ng cáº§n xÃ³a.

```csharp
IsActive = true;   // Banner Ä‘ang hiá»ƒn thá»‹
IsActive = false;  // Banner bá»‹ áº©n, khÃ´ng hiá»ƒn thá»‹
```

**Use Cases**:
- â¸ï¸ **Táº¡m dá»«ng banner**: Flash sale háº¿t hÃ ng sá»›m â†’ Táº¯t banner ngay
- ğŸ”„ **TÃ¡i sá»­ dá»¥ng**: Banner Táº¿t nÄƒm ngoÃ¡i â†’ Inactive â†’ NÄƒm sau Active láº¡i
- ğŸ§ª **Testing**: Táº¯t banner Ä‘á»ƒ test layout khÃ´ng cÃ³ banner
- ğŸš¨ **Emergency**: PhÃ¡t hiá»‡n typo trÃªn banner â†’ Táº¯t ngay â†’ Sá»­a â†’ Báº­t láº¡i

**KhÃ¡c vá»›i Delete**:
- âŒ **Delete**: Máº¥t háº³n banner, khÃ´ng láº¥y láº¡i Ä‘Æ°á»£c
- âœ… **Inactive**: Banner váº«n cÃ²n trong database, chá»‰ áº©n Ä‘i
- âœ… Giá»¯ láº¡i lá»‹ch sá»­ ViewCount, ClickCount
- âœ… CÃ³ thá»ƒ Active láº¡i báº¥t cá»© lÃºc nÃ o

---

### 8. **TargetPage Filtering** ğŸ¯

Banner cÃ³ thá»ƒ hiá»ƒn thá»‹ trÃªn trang cá»¥ thá»ƒ hoáº·c táº¥t cáº£ trang.

```csharp
TargetPage = null;            // Hiá»ƒn thá»‹ trÃªn Táº¤T Cáº¢ trang
TargetPage = "products";      // Chá»‰ hiá»ƒn thá»‹ trÃªn /products
TargetPage = "category-men";  // Chá»‰ hiá»ƒn thá»‹ trÃªn /products?category=men
```

**VÃ­ dá»¥**:
```
Position = "category", TargetPage = "category-women"
â†’ Banner nÃ y CHá»ˆ hiá»ƒn thá»‹ trÃªn trang Women's Products

Position = "category", TargetPage = null
â†’ Banner nÃ y hiá»ƒn thá»‹ trÃªn Táº¤T Cáº¢ category pages
```

**Lá»£i Ã­ch**:
- âœ… Personalization: Banner phÃ¹ há»£p vá»›i tá»«ng trang
- âœ… Trang nam: Banner sáº£n pháº©m nam
- âœ… Trang ná»¯: Banner sáº£n pháº©m ná»¯
- âœ… KhÃ´ng bá»‹ spam banner khÃ´ng liÃªn quan

---

## ğŸ”„ SO SÃNH HIá»†N Táº I vs SAU NÃ‚NG Cáº¤P

### âŒ Hiá»‡n táº¡i (Hardcoded)

```csharp
// Views/Home/Index.cshtml - STATIC
<div class="carousel-item active">
    <img src="~/images/Banner/banner-women-main.jpg" alt="Women">
</div>
<div class="carousel-item">
    <img src="~/images/Banner/banner-man-main.jpg" alt="Men">
</div>
```

**Váº¥n Ä‘á»**:
- âŒ Admin khÃ´ng thá»ƒ thay Ä‘á»•i banner qua giao diá»‡n
- âŒ Muá»‘n Ä‘á»•i banner â†’ Pháº£i sá»­a code â†’ Deploy láº¡i
- âŒ KhÃ´ng cÃ³ schedule: KhÃ´ng tá»± Ä‘á»™ng Ä‘á»•i banner theo thá»i gian
- âŒ KhÃ´ng track Ä‘Æ°á»£c analytics
- âŒ KhÃ´ng responsive: Chá»‰ cÃ³ 1 áº£nh cho cáº£ desktop vÃ  mobile
- âŒ LuÃ´n hiá»ƒn thá»‹ 2 banner cá»‘ Ä‘á»‹nh

---

### âœ… Sau nÃ¢ng cáº¥p (Dynamic from Database)

```csharp
// Controllers/HomeController.cs
var activeBanners = await _context.MarketingBanners
    .Where(b => b.IsActive 
        && b.Position == "home_main"
        && b.StartDate <= DateTime.UtcNow
        && (b.EndDate == null || b.EndDate >= DateTime.UtcNow))
    .OrderBy(b => b.SortOrder)
    .ToListAsync();
ViewBag.Banners = activeBanners;
```

```html
<!-- Views/Home/Index.cshtml - DYNAMIC -->
@if (ViewBag.Banners != null && ((List<MarketingBanner>)ViewBag.Banners).Any())
{
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            @foreach (var (banner, index) in ((List<MarketingBanner>)ViewBag.Banners).Select((b, i) => (b, i)))
            {
                <div class="carousel-item @(index == 0 ? "active" : "")">
                    <a href="@banner.LinkUrl" target="@(banner.OpenInNewTab ? "_blank" : "_self")">
                        <picture>
                            <source media="(max-width: 768px)" 
                                    srcset="@(banner.MobileImageUrl ?? banner.ImageUrl)">
                            <img src="@banner.ImageUrl" 
                                 class="d-block w-100" 
                                 alt="@banner.Title">
                        </picture>
                    </a>
                </div>
            }
        </div>
        <button class="carousel-control-prev" ...></button>
        <button class="carousel-control-next" ...></button>
    </div>
}
else
{
    <!-- Fallback: Hiá»ƒn thá»‹ banner máº·c Ä‘á»‹nh náº¿u database trá»‘ng -->
    <div class="hero-placeholder">
        <h3>ChÆ°a cÃ³ banner nÃ o Ä‘Æ°á»£c cáº¥u hÃ¬nh</h3>
        <p>Vui lÃ²ng vÃ o Admin Panel Ä‘á»ƒ táº¡o banner</p>
    </div>
}
```

**Æ¯u Ä‘iá»ƒm**:
- âœ… Admin táº¡o/sá»­a/xÃ³a banner qua giao diá»‡n web
- âœ… Tá»± Ä‘á»™ng lá»c banner theo date range
- âœ… Responsive: Desktop/Mobile images riÃªng
- âœ… Clickable: Má»—i banner dáº«n Ä‘áº¿n link khÃ¡c nhau
- âœ… Track analytics: ViewCount, ClickCount
- âœ… Sá»‘ lÆ°á»£ng banner linh hoáº¡t: 1, 3, 5, 10... tÃ¹y admin
- âœ… Fallback: CÃ³ UI placeholder náº¿u chÆ°a cÃ³ banner

---

## ğŸ¬ QUY TRÃŒNH Táº O BANNER (Admin Workflow)

### BÆ°á»›c 1: Admin vÃ o trang Marketing
```
URL: /admin/marketing/banners
```

### BÆ°á»›c 2: Click "Táº¡o Banner Má»›i"
```
URL: /admin/marketing/banner/create
```

### BÆ°á»›c 3: Äiá»n form
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Táº O BANNER Má»šI                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  TiÃªu Ä‘á»: ___Khuyáº¿n mÃ£i Black Friday_____   â”‚
â”‚  MÃ´ táº£:   ___Giáº£m giÃ¡ lÃªn Ä‘áº¿n 70%________   â”‚
â”‚                                              â”‚
â”‚  URL áº¢nh Desktop: _/images/bf-desktop.jpg_  â”‚
â”‚  URL áº¢nh Mobile:  _/images/bf-mobile.jpg__  â”‚
â”‚                                              â”‚
â”‚  Link Ä‘áº¿n:        _/products?sale=black-f_  â”‚
â”‚  Má»Ÿ tab má»›i:      [ ] (checkbox)            â”‚
â”‚                                              â”‚
â”‚  Vá»‹ trÃ­:          [home_main â–¼]             â”‚
â”‚  Thá»© tá»±:          [0_____]                  â”‚
â”‚                                              â”‚
â”‚  NgÃ y báº¯t Ä‘áº§u:    [20/11/2024]              â”‚
â”‚  NgÃ y káº¿t thÃºc:   [30/11/2024]              â”‚
â”‚                                              â”‚
â”‚  Tráº¡ng thÃ¡i:      [x] Active                â”‚
â”‚                                              â”‚
â”‚  [LÆ°u Banner]  [Há»§y]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### BÆ°á»›c 4: LÆ°u â†’ Banner tá»± Ä‘á»™ng hiá»ƒn thá»‹
```
âœ… Banner Ä‘Ã£ Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng!
â†’ Redirect vá»: /admin/marketing/banners

Database: MarketingBanners table
â””â”€â”€ New row inserted with all fields

Homepage: /
â””â”€â”€ HomeController.Index() loads banner
    â””â”€â”€ Views/Home/Index.cshtml renders banner
        â””â”€â”€ Customer sees banner in carousel
```

---

## ğŸ¨ WORKFLOW DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ADMIN      â”‚
â”‚   PANEL      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Táº¡o Banner
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MarketingBanners Table     â”‚
â”‚  (Database)                  â”‚
â”‚                              â”‚
â”‚  - Id                        â”‚
â”‚  - Title                     â”‚
â”‚  - ImageUrl                  â”‚
â”‚  - MobileImageUrl            â”‚
â”‚  - Position: "home_main"     â”‚
â”‚  - IsActive: true            â”‚
â”‚  - StartDate: 2024-11-20     â”‚
â”‚  - EndDate: 2024-11-30       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 2. HomeController queries
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   HomeController.Index()       â”‚
â”‚                                â”‚
â”‚   activeBanners = _context     â”‚
â”‚     .MarketingBanners          â”‚
â”‚     .Where(b => b.IsActive     â”‚
â”‚         && b.Position ==       â”‚
â”‚            "home_main"         â”‚
â”‚         && IsInDateRange)      â”‚
â”‚     .OrderBy(b => b.SortOrder) â”‚
â”‚     .ToListAsync();            â”‚
â”‚                                â”‚
â”‚   ViewBag.Banners = banners;   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ 3. Pass to View
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Views/Home/Index.cshtml        â”‚
â”‚                                  â”‚
â”‚   @foreach (var banner in        â”‚
â”‚       ViewBag.Banners)           â”‚
â”‚   {                              â”‚
â”‚       <div class="carousel-item">â”‚
â”‚           <picture>              â”‚
â”‚               <source media="..." â”‚
â”‚                   srcset="@..."/> â”‚
â”‚               <img src="@..." />  â”‚
â”‚           </picture>              â”‚
â”‚       </div>                      â”‚
â”‚   }                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ 4. Render to HTML
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CUSTOMER BROWSER                â”‚
â”‚                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚  [â† Banner Carousel â†’]      â”‚ â”‚
â”‚   â”‚                             â”‚ â”‚
â”‚   â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â”‚ â”‚
â”‚   â”‚  â–ˆ  BLACK FRIDAY 70% OFF â–ˆ  â”‚ â”‚
â”‚   â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â”‚ â”‚
â”‚   â”‚                             â”‚ â”‚
â”‚   â”‚  â— â—‹ â—‹  (indicators)       â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ TÃ“M Táº®T

### Ã tÆ°á»Ÿng chÃ­nh:
1. **Position-based**: Banner theo vá»‹ trÃ­, khÃ´ng pháº£i theo content
2. **Time-scheduled**: Tá»± Ä‘á»™ng hiá»ƒn thá»‹/áº©n theo ngÃ y thÃ¡ng
3. **Responsive**: 2 áº£nh riÃªng cho desktop vÃ  mobile
4. **Clickable**: Má»—i banner dáº«n Ä‘áº¿n link marketing
5. **Analytics**: Track views vÃ  clicks Ä‘á»ƒ Ä‘o hiá»‡u quáº£
6. **Flexible**: Admin táº¡o bao nhiÃªu banner cÅ©ng Ä‘Æ°á»£c

### Vá»‹ trÃ­ hiá»ƒn thá»‹:
- ğŸ”´ **Hero Carousel** (to, full-width, Ä‘áº§u trang chá»§)
- ğŸ”µ **Small Banners** (3 cá»™t, dÆ°á»›i hero carousel)
- ğŸŸ¢ **Category Pages** (banner trÃªn trang danh má»¥c)
- ğŸŸ¡ **Product Pages** (banner trÃªn trang sáº£n pháº©m)
- ğŸŸ£ **Popup** (modal quáº£ng cÃ¡o)

### Hiá»‡n táº¡i vs Sau nÃ¢ng cáº¥p:
- âŒ **Hiá»‡n táº¡i**: 2 banner HARDCODED, khÃ´ng thá»ƒ thay Ä‘á»•i
- âœ… **Sau upgrade**: Unlimited banners, admin quáº£n lÃ½ qua web UI

**Next step**: NÃ¢ng cáº¥p HomeController vÃ  Index.cshtml Ä‘á»ƒ load banners tá»« database!
